"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/auth/[...nextauth]/route";
exports.ids = ["app/api/auth/[...nextauth]/route"];
exports.modules = {

/***/ "bcrypt":
/*!*************************!*\
  !*** external "bcrypt" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("bcrypt");

/***/ }),

/***/ "../../client/components/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/action-async-storage.external.js");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!********************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external.js" ***!
  \********************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/request-async-storage.external.js");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!******************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external.js" ***!
  \******************************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/static-generation-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "@libsql/client":
/*!*********************************!*\
  !*** external "@libsql/client" ***!
  \*********************************/
/***/ ((module) => {

module.exports = import("@libsql/client");;

/***/ }),

/***/ "assert":
/*!*************************!*\
  !*** external "assert" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("assert");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("events");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "querystring":
/*!******************************!*\
  !*** external "querystring" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("querystring");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&page=%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute.ts&appDir=%2FUsers%2Fbytedance%2FDesktop%2Fnababa-dress%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fbytedance%2FDesktop%2Fnababa-dress&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&page=%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute.ts&appDir=%2FUsers%2Fbytedance%2FDesktop%2Fnababa-dress%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fbytedance%2FDesktop%2Fnababa-dress&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_bytedance_Desktop_nababa_dress_src_app_api_auth_nextauth_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/auth/[...nextauth]/route.ts */ \"(rsc)/./src/app/api/auth/[...nextauth]/route.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_Users_bytedance_Desktop_nababa_dress_src_app_api_auth_nextauth_route_ts__WEBPACK_IMPORTED_MODULE_3__]);\n_Users_bytedance_Desktop_nababa_dress_src_app_api_auth_nextauth_route_ts__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/auth/[...nextauth]/route\",\n        pathname: \"/api/auth/[...nextauth]\",\n        filename: \"route\",\n        bundlePath: \"app/api/auth/[...nextauth]/route\"\n    },\n    resolvedPagePath: \"/Users/bytedance/Desktop/nababa-dress/src/app/api/auth/[...nextauth]/route.ts\",\n    nextConfigOutput,\n    userland: _Users_bytedance_Desktop_nababa_dress_src_app_api_auth_nextauth_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/auth/[...nextauth]/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZhdXRoJTJGJTVCLi4ubmV4dGF1dGglNUQlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRmF1dGglMkYlNUIuLi5uZXh0YXV0aCU1RCUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRmF1dGglMkYlNUIuLi5uZXh0YXV0aCU1RCUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRmJ5dGVkYW5jZSUyRkRlc2t0b3AlMkZuYWJhYmEtZHJlc3MlMkZzcmMlMkZhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPSUyRlVzZXJzJTJGYnl0ZWRhbmNlJTJGRGVza3RvcCUyRm5hYmFiYS1kcmVzcyZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDNkI7QUFDMUc7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxpRUFBaUU7QUFDekU7QUFDQTtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUN1SDs7QUFFdkgscUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uYWJhYmEtZHJlc3MvPzAxZmQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiL1VzZXJzL2J5dGVkYW5jZS9EZXNrdG9wL25hYmFiYS1kcmVzcy9zcmMvYXBwL2FwaS9hdXRoL1suLi5uZXh0YXV0aF0vcm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2F1dGgvWy4uLm5leHRhdXRoXS9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2F1dGgvWy4uLm5leHRhdXRoXVwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvYXV0aC9bLi4ubmV4dGF1dGhdL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiL1VzZXJzL2J5dGVkYW5jZS9EZXNrdG9wL25hYmFiYS1kcmVzcy9zcmMvYXBwL2FwaS9hdXRoL1suLi5uZXh0YXV0aF0vcm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL2F1dGgvWy4uLm5leHRhdXRoXS9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&page=%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute.ts&appDir=%2FUsers%2Fbytedance%2FDesktop%2Fnababa-dress%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fbytedance%2FDesktop%2Fnababa-dress&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/auth/[...nextauth]/route.ts":
/*!*************************************************!*\
  !*** ./src/app/api/auth/[...nextauth]/route.ts ***!
  \*************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ handler),\n/* harmony export */   POST: () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next-auth */ \"(rsc)/./node_modules/next-auth/index.js\");\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_auth__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _lib_auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/auth */ \"(rsc)/./src/lib/auth.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_lib_auth__WEBPACK_IMPORTED_MODULE_1__]);\n_lib_auth__WEBPACK_IMPORTED_MODULE_1__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\nconst handler = next_auth__WEBPACK_IMPORTED_MODULE_0___default()(_lib_auth__WEBPACK_IMPORTED_MODULE_1__.authOptions);\n\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9hdXRoL1suLi5uZXh0YXV0aF0vcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBaUM7QUFDUTtBQUV6QyxNQUFNRSxVQUFVRixnREFBUUEsQ0FBQ0Msa0RBQVdBO0FBRU8iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uYWJhYmEtZHJlc3MvLi9zcmMvYXBwL2FwaS9hdXRoL1suLi5uZXh0YXV0aF0vcm91dGUudHM/MDA5OCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgTmV4dEF1dGggZnJvbSAnbmV4dC1hdXRoJztcbmltcG9ydCB7IGF1dGhPcHRpb25zIH0gZnJvbSAnQC9saWIvYXV0aCc7XG5cbmNvbnN0IGhhbmRsZXIgPSBOZXh0QXV0aChhdXRoT3B0aW9ucyk7XG5cbmV4cG9ydCB7IGhhbmRsZXIgYXMgR0VULCBoYW5kbGVyIGFzIFBPU1QgfTsiXSwibmFtZXMiOlsiTmV4dEF1dGgiLCJhdXRoT3B0aW9ucyIsImhhbmRsZXIiLCJHRVQiLCJQT1NUIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/auth/[...nextauth]/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/auth.ts":
/*!*************************!*\
  !*** ./src/lib/auth.ts ***!
  \*************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   authOptions: () => (/* binding */ authOptions)\n/* harmony export */ });\n/* harmony import */ var next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next-auth/providers/credentials */ \"(rsc)/./node_modules/next-auth/providers/credentials.js\");\n/* harmony import */ var _dao_user_dao__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./dao/user-dao */ \"(rsc)/./src/lib/dao/user-dao.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_dao_user_dao__WEBPACK_IMPORTED_MODULE_1__]);\n_dao_user_dao__WEBPACK_IMPORTED_MODULE_1__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\nconst authOptions = {\n    providers: [\n        (0,next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n            name: \"credentials\",\n            credentials: {\n                email: {\n                    label: \"Email\",\n                    type: \"email\"\n                },\n                password: {\n                    label: \"Password\",\n                    type: \"password\"\n                }\n            },\n            async authorize (credentials) {\n                if (!credentials?.email || !credentials?.password) {\n                    return null;\n                }\n                try {\n                    // 查找用户\n                    const user = await _dao_user_dao__WEBPACK_IMPORTED_MODULE_1__.UserDAO.findUserByEmail(credentials.email);\n                    if (!user) {\n                        return null;\n                    }\n                    // 验证密码\n                    const isValidPassword = await _dao_user_dao__WEBPACK_IMPORTED_MODULE_1__.UserDAO.verifyPassword(credentials.password, user.password_hash);\n                    if (!isValidPassword) {\n                        return null;\n                    }\n                    // 登录时不自动发放积分，改由专门的签到接口处理\n                    return {\n                        id: user.id.toString(),\n                        email: user.email,\n                        name: user.email,\n                        userLevel: user.user_level,\n                        credits: user.credits,\n                        wechatUpgraded: user.wechat_upgraded\n                    };\n                } catch (error) {\n                    console.error(\"认证失败:\", error);\n                    return null;\n                }\n            }\n        })\n    ],\n    callbacks: {\n        async jwt ({ token, user }) {\n            if (user) {\n                token.userLevel = user.userLevel;\n                token.credits = user.credits;\n                token.wechatUpgraded = user.wechatUpgraded;\n            }\n            return token;\n        },\n        async session ({ session, token }) {\n            if (token.sub) {\n                // 每次获取session时刷新用户信息\n                try {\n                    const user = await _dao_user_dao__WEBPACK_IMPORTED_MODULE_1__.UserDAO.findUserById(parseInt(token.sub));\n                    if (user) {\n                        session.user.id = user.id.toString();\n                        session.user.userLevel = user.user_level;\n                        session.user.credits = user.credits;\n                        session.user.wechatUpgraded = user.wechat_upgraded;\n                        session.user.isPremiumUser = await _dao_user_dao__WEBPACK_IMPORTED_MODULE_1__.UserDAO.isPremiumUser(user.id);\n                        session.user.isProUser = await _dao_user_dao__WEBPACK_IMPORTED_MODULE_1__.UserDAO.isProUser(user.id);\n                    }\n                } catch (error) {\n                    console.error(\"刷新session失败:\", error);\n                }\n            }\n            return session;\n        }\n    },\n    pages: {\n        signIn: \"/auth/signin\"\n    },\n    session: {\n        strategy: \"jwt\",\n        maxAge: 30 * 24 * 60 * 60\n    },\n    secret: process.env.NEXTAUTH_SECRET\n};\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFHLENBQUNDLGVBQWU7QUFDckMsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL25hYmFiYS1kcmVzcy8uL3NyYy9saWIvYXV0aC50cz82NjkyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRBdXRoT3B0aW9ucyB9IGZyb20gJ25leHQtYXV0aCc7XG5pbXBvcnQgQ3JlZGVudGlhbHNQcm92aWRlciBmcm9tICduZXh0LWF1dGgvcHJvdmlkZXJzL2NyZWRlbnRpYWxzJztcbmltcG9ydCB7IFVzZXJEQU8gfSBmcm9tICcuL2Rhby91c2VyLWRhbyc7XG5pbXBvcnQgeyBDcmVkaXRzREFPIH0gZnJvbSAnLi9kYW8vY3JlZGl0cy1kYW8nO1xuXG5leHBvcnQgY29uc3QgYXV0aE9wdGlvbnM6IE5leHRBdXRoT3B0aW9ucyA9IHtcbiAgcHJvdmlkZXJzOiBbXG4gICAgQ3JlZGVudGlhbHNQcm92aWRlcih7XG4gICAgICBuYW1lOiAnY3JlZGVudGlhbHMnLFxuICAgICAgY3JlZGVudGlhbHM6IHtcbiAgICAgICAgZW1haWw6IHsgbGFiZWw6ICdFbWFpbCcsIHR5cGU6ICdlbWFpbCcgfSxcbiAgICAgICAgcGFzc3dvcmQ6IHsgbGFiZWw6ICdQYXNzd29yZCcsIHR5cGU6ICdwYXNzd29yZCcgfVxuICAgICAgfSxcbiAgICAgIGFzeW5jIGF1dGhvcml6ZShjcmVkZW50aWFscykge1xuICAgICAgICBpZiAoIWNyZWRlbnRpYWxzPy5lbWFpbCB8fCAhY3JlZGVudGlhbHM/LnBhc3N3b3JkKSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICB0cnkge1xuICAgICAgICAgIC8vIOafpeaJvueUqOaIt1xuICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyREFPLmZpbmRVc2VyQnlFbWFpbChjcmVkZW50aWFscy5lbWFpbCk7XG4gICAgICAgICAgaWYgKCF1c2VyKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyDpqozor4Hlr4bnoIFcbiAgICAgICAgICBjb25zdCBpc1ZhbGlkUGFzc3dvcmQgPSBhd2FpdCBVc2VyREFPLnZlcmlmeVBhc3N3b3JkKFxuICAgICAgICAgICAgY3JlZGVudGlhbHMucGFzc3dvcmQsXG4gICAgICAgICAgICB1c2VyLnBhc3N3b3JkX2hhc2hcbiAgICAgICAgICApO1xuXG4gICAgICAgICAgaWYgKCFpc1ZhbGlkUGFzc3dvcmQpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIOeZu+W9leaXtuS4jeiHquWKqOWPkeaUvuenr+WIhu+8jOaUueeUseS4k+mXqOeahOetvuWIsOaOpeWPo+WkhOeQhlxuXG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGlkOiB1c2VyLmlkLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBlbWFpbDogdXNlci5lbWFpbCxcbiAgICAgICAgICAgIG5hbWU6IHVzZXIuZW1haWwsXG4gICAgICAgICAgICB1c2VyTGV2ZWw6IHVzZXIudXNlcl9sZXZlbCxcbiAgICAgICAgICAgIGNyZWRpdHM6IHVzZXIuY3JlZGl0cyxcbiAgICAgICAgICAgIHdlY2hhdFVwZ3JhZGVkOiB1c2VyLndlY2hhdF91cGdyYWRlZFxuICAgICAgICAgIH07XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcign6K6k6K+B5aSx6LSlOicsIGVycm9yKTtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pXG4gIF0sXG4gIGNhbGxiYWNrczoge1xuICAgIGFzeW5jIGp3dCh7IHRva2VuLCB1c2VyIH0pIHtcbiAgICAgIGlmICh1c2VyKSB7XG4gICAgICAgIHRva2VuLnVzZXJMZXZlbCA9IHVzZXIudXNlckxldmVsO1xuICAgICAgICB0b2tlbi5jcmVkaXRzID0gdXNlci5jcmVkaXRzO1xuICAgICAgICB0b2tlbi53ZWNoYXRVcGdyYWRlZCA9IHVzZXIud2VjaGF0VXBncmFkZWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gdG9rZW47XG4gICAgfSxcbiAgICBhc3luYyBzZXNzaW9uKHsgc2Vzc2lvbiwgdG9rZW4gfSkge1xuICAgICAgaWYgKHRva2VuLnN1Yikge1xuICAgICAgICAvLyDmr4/mrKHojrflj5ZzZXNzaW9u5pe25Yi35paw55So5oi35L+h5oGvXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXJEQU8uZmluZFVzZXJCeUlkKHBhcnNlSW50KHRva2VuLnN1YikpO1xuICAgICAgICAgIGlmICh1c2VyKSB7XG4gICAgICAgICAgICBzZXNzaW9uLnVzZXIuaWQgPSB1c2VyLmlkLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICBzZXNzaW9uLnVzZXIudXNlckxldmVsID0gdXNlci51c2VyX2xldmVsO1xuICAgICAgICAgICAgc2Vzc2lvbi51c2VyLmNyZWRpdHMgPSB1c2VyLmNyZWRpdHM7XG4gICAgICAgICAgICBzZXNzaW9uLnVzZXIud2VjaGF0VXBncmFkZWQgPSB1c2VyLndlY2hhdF91cGdyYWRlZDtcbiAgICAgICAgICAgIHNlc3Npb24udXNlci5pc1ByZW1pdW1Vc2VyID0gYXdhaXQgVXNlckRBTy5pc1ByZW1pdW1Vc2VyKHVzZXIuaWQpO1xuICAgICAgICAgICAgc2Vzc2lvbi51c2VyLmlzUHJvVXNlciA9IGF3YWl0IFVzZXJEQU8uaXNQcm9Vc2VyKHVzZXIuaWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCfliLfmlrBzZXNzaW9u5aSx6LSlOicsIGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHNlc3Npb247XG4gICAgfVxuICB9LFxuICBwYWdlczoge1xuICAgIHNpZ25JbjogJy9hdXRoL3NpZ25pbidcbiAgfSxcbiAgc2Vzc2lvbjoge1xuICAgIHN0cmF0ZWd5OiAnand0JyxcbiAgICBtYXhBZ2U6IDMwICogMjQgKiA2MCAqIDYwLCAvLyAzMCBkYXlzXG4gIH0sXG4gIHNlY3JldDogcHJvY2Vzcy5lbnYuTkVYVEFVVEhfU0VDUkVULFxufTtcblxuLy8g5omp5bGVTmV4dEF1dGjnsbvlnotcbmRlY2xhcmUgbW9kdWxlICduZXh0LWF1dGgnIHtcbiAgaW50ZXJmYWNlIFVzZXIge1xuICAgIHVzZXJMZXZlbD86ICdmcmVlJyB8ICdwbHVzJyB8ICdwcm8nO1xuICAgIGNyZWRpdHM/OiBudW1iZXI7XG4gICAgd2VjaGF0VXBncmFkZWQ/OiBib29sZWFuO1xuICB9XG5cbiAgaW50ZXJmYWNlIFNlc3Npb24ge1xuICAgIHVzZXI6IHtcbiAgICAgIGlkOiBzdHJpbmc7XG4gICAgICBuYW1lPzogc3RyaW5nIHwgbnVsbDtcbiAgICAgIGVtYWlsPzogc3RyaW5nIHwgbnVsbDtcbiAgICAgIGltYWdlPzogc3RyaW5nIHwgbnVsbDtcbiAgICAgIHVzZXJMZXZlbD86ICdmcmVlJyB8ICdwbHVzJyB8ICdwcm8nO1xuICAgICAgY3JlZGl0cz86IG51bWJlcjtcbiAgICAgIHdlY2hhdFVwZ3JhZGVkPzogYm9vbGVhbjtcbiAgICAgIGlzUHJlbWl1bVVzZXI/OiBib29sZWFuO1xuICAgICAgaXNQcm9Vc2VyPzogYm9vbGVhbjtcbiAgICB9O1xuICB9XG59XG5cbmRlY2xhcmUgbW9kdWxlICduZXh0LWF1dGgvand0JyB7XG4gIGludGVyZmFjZSBKV1Qge1xuICAgIHVzZXJMZXZlbD86ICdmcmVlJyB8ICdwbHVzJyB8ICdwcm8nO1xuICAgIGNyZWRpdHM/OiBudW1iZXI7XG4gICAgd2VjaGF0VXBncmFkZWQ/OiBib29sZWFuO1xuICB9XG59Il0sIm5hbWVzIjpbIkNyZWRlbnRpYWxzUHJvdmlkZXIiLCJVc2VyREFPIiwiYXV0aE9wdGlvbnMiLCJwcm92aWRlcnMiLCJuYW1lIiwiY3JlZGVudGlhbHMiLCJlbWFpbCIsImxhYmVsIiwidHlwZSIsInBhc3N3b3JkIiwiYXV0aG9yaXplIiwidXNlciIsImZpbmRVc2VyQnlFbWFpbCIsImlzVmFsaWRQYXNzd29yZCIsInZlcmlmeVBhc3N3b3JkIiwicGFzc3dvcmRfaGFzaCIsImlkIiwidG9TdHJpbmciLCJ1c2VyTGV2ZWwiLCJ1c2VyX2xldmVsIiwiY3JlZGl0cyIsIndlY2hhdFVwZ3JhZGVkIiwid2VjaGF0X3VwZ3JhZGVkIiwiZXJyb3IiLCJjb25zb2xlIiwiY2FsbGJhY2tzIiwiand0IiwidG9rZW4iLCJzZXNzaW9uIiwic3ViIiwiZmluZFVzZXJCeUlkIiwicGFyc2VJbnQiLCJpc1ByZW1pdW1Vc2VyIiwiaXNQcm9Vc2VyIiwicGFnZXMiLCJzaWduSW4iLCJzdHJhdGVneSIsIm1heEFnZSIsInNlY3JldCIsInByb2Nlc3MiLCJlbnYiLCJORVhUQVVUSF9TRUNSRVQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/auth.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/dao/user-dao.ts":
/*!*********************************!*\
  !*** ./src/lib/dao/user-dao.ts ***!
  \*********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   UserDAO: () => (/* binding */ UserDAO)\n/* harmony export */ });\n/* harmony import */ var _db__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../db */ \"(rsc)/./src/lib/db.ts\");\n/* harmony import */ var bcrypt__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! bcrypt */ \"bcrypt\");\n/* harmony import */ var bcrypt__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(bcrypt__WEBPACK_IMPORTED_MODULE_1__);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_db__WEBPACK_IMPORTED_MODULE_0__]);\n_db__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\nclass UserDAO {\n    // 创建新用户\n    static async createUser(input) {\n        const { email, password } = input;\n        // 检查邮箱是否已存在\n        const existingUser = await this.findUserByEmail(email);\n        if (existingUser) {\n            throw new Error(\"邮箱已被注册\");\n        }\n        // 加密密码\n        const password_hash = await bcrypt__WEBPACK_IMPORTED_MODULE_1___default().hash(password, 12);\n        const result = await _db__WEBPACK_IMPORTED_MODULE_0__.dbClient.execute({\n            sql: `INSERT INTO users (email, password_hash, user_level, credits) \n            VALUES (?, ?, ?, ?) RETURNING *`,\n            args: [\n                email,\n                password_hash,\n                \"free\",\n                6\n            ]\n        });\n        const user = result.rows[0];\n        return {\n            id: user.id,\n            email: user.email,\n            password_hash: user.password_hash,\n            user_level: user.user_level,\n            credits: user.credits,\n            wechat_upgraded: Boolean(user.wechat_upgraded),\n            created_at: new Date(user.created_at),\n            updated_at: new Date(user.updated_at)\n        };\n    }\n    // 根据邮箱查找用户\n    static async findUserByEmail(email) {\n        const result = await _db__WEBPACK_IMPORTED_MODULE_0__.dbClient.execute({\n            sql: \"SELECT * FROM users WHERE email = ?\",\n            args: [\n                email\n            ]\n        });\n        if (result.rows.length === 0) {\n            return null;\n        }\n        const user = result.rows[0];\n        return {\n            id: user.id,\n            email: user.email,\n            password_hash: user.password_hash,\n            user_level: user.user_level,\n            credits: user.credits,\n            wechat_upgraded: Boolean(user.wechat_upgraded),\n            created_at: new Date(user.created_at),\n            updated_at: new Date(user.updated_at)\n        };\n    }\n    // 根据ID查找用户\n    static async findUserById(id) {\n        const result = await _db__WEBPACK_IMPORTED_MODULE_0__.dbClient.execute({\n            sql: \"SELECT * FROM users WHERE id = ?\",\n            args: [\n                id\n            ]\n        });\n        if (result.rows.length === 0) {\n            return null;\n        }\n        const user = result.rows[0];\n        return {\n            id: user.id,\n            email: user.email,\n            password_hash: user.password_hash,\n            user_level: user.user_level,\n            credits: user.credits,\n            wechat_upgraded: Boolean(user.wechat_upgraded),\n            created_at: new Date(user.created_at),\n            updated_at: new Date(user.updated_at)\n        };\n    }\n    // 验证密码\n    static async verifyPassword(plainPassword, hashedPassword) {\n        return await bcrypt__WEBPACK_IMPORTED_MODULE_1___default().compare(plainPassword, hashedPassword);\n    }\n    // 更新用户信息\n    static async updateUser(userId, input) {\n        const updateFields = [];\n        const updateValues = [];\n        if (input.user_level !== undefined) {\n            updateFields.push(\"user_level = ?\");\n            updateValues.push(input.user_level);\n        }\n        if (input.credits !== undefined) {\n            updateFields.push(\"credits = ?\");\n            updateValues.push(input.credits);\n        }\n        if (input.wechat_upgraded !== undefined) {\n            updateFields.push(\"wechat_upgraded = ?\");\n            updateValues.push(input.wechat_upgraded);\n        }\n        updateFields.push(\"updated_at = CURRENT_TIMESTAMP\");\n        updateValues.push(userId);\n        const sql = `UPDATE users SET ${updateFields.join(\", \")} WHERE id = ? RETURNING *`;\n        const result = await _db__WEBPACK_IMPORTED_MODULE_0__.dbClient.execute({\n            sql,\n            args: updateValues\n        });\n        if (result.rows.length === 0) {\n            throw new Error(\"用户不存在\");\n        }\n        const user = result.rows[0];\n        return {\n            id: user.id,\n            email: user.email,\n            password_hash: user.password_hash,\n            user_level: user.user_level,\n            credits: user.credits,\n            wechat_upgraded: Boolean(user.wechat_upgraded),\n            created_at: new Date(user.created_at),\n            updated_at: new Date(user.updated_at)\n        };\n    }\n    // 扣除用户积分\n    static async deductCredits(userId, creditsToDeduct) {\n        // 先查询当前积分\n        const user = await this.findUserById(userId);\n        if (!user) {\n            throw new Error(\"用户不存在\");\n        }\n        if (user.credits < creditsToDeduct) {\n            throw new Error(\"积分不足\");\n        }\n        return await this.updateUser(userId, {\n            credits: user.credits - creditsToDeduct\n        });\n    }\n    // 增加用户积分\n    static async addCredits(userId, creditsToAdd) {\n        const user = await this.findUserById(userId);\n        if (!user) {\n            throw new Error(\"用户不存在\");\n        }\n        return await this.updateUser(userId, {\n            credits: user.credits + creditsToAdd\n        });\n    }\n    // 更新用户积分（可正可负）\n    static async updateUserCredits(userId, creditsDelta) {\n        const user = await this.findUserById(userId);\n        if (!user) {\n            throw new Error(\"用户不存在\");\n        }\n        const newCredits = user.credits + creditsDelta;\n        if (newCredits < 0) {\n            throw new Error(\"积分不足\");\n        }\n        return await this.updateUser(userId, {\n            credits: newCredits\n        });\n    }\n    // 检查用户等级\n    static async getUserLevel(userId) {\n        const user = await this.findUserById(userId);\n        return user ? user.user_level : null;\n    }\n    // 检查用户是否为Plus或Pro用户\n    static async isPremiumUser(userId) {\n        const user = await this.findUserById(userId);\n        return user ? user.user_level === \"plus\" || user.user_level === \"pro\" : false;\n    }\n    // 检查用户是否为Pro用户\n    static async isProUser(userId) {\n        const user = await this.findUserById(userId);\n        return user ? user.user_level === \"pro\" : false;\n    }\n    // 微信升级用户为Plus\n    static async upgradeToPlusUser(userId) {\n        return await this.updateUser(userId, {\n            user_level: \"plus\",\n            wechat_upgraded: true\n        });\n    }\n    // 购买积分包升级用户为Pro\n    static async upgradeToProUser(userId) {\n        return await this.updateUser(userId, {\n            user_level: \"pro\"\n        });\n    }\n    // 获取用户统计信息\n    static async getUserStats(userId) {\n        const [generationResult, creditsResult] = await Promise.all([\n            // 查询生成历史统计\n            _db__WEBPACK_IMPORTED_MODULE_0__.dbClient.execute({\n                sql: `SELECT \n                COUNT(*) as total_generations,\n                COUNT(CASE WHEN status = 'completed' THEN 1 END) as successful_generations,\n                COUNT(CASE WHEN status = 'failed' THEN 1 END) as failed_generations,\n                SUM(credits_used) as total_credits_used\n              FROM generation_history \n              WHERE user_id = ?`,\n                args: [\n                    userId\n                ]\n            }),\n            // 查询当前积分\n            _db__WEBPACK_IMPORTED_MODULE_0__.dbClient.execute({\n                sql: \"SELECT credits FROM users WHERE id = ?\",\n                args: [\n                    userId\n                ]\n            })\n        ]);\n        const stats = generationResult.rows[0];\n        const credits = creditsResult.rows[0];\n        return {\n            total_generations: stats.total_generations || 0,\n            successful_generations: stats.successful_generations || 0,\n            failed_generations: stats.failed_generations || 0,\n            total_credits_used: stats.total_credits_used || 0,\n            current_credits: credits?.credits || 0\n        };\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SUFBSSxDQUFDLEVBQUU7UUFDdEMsTUFBTUcsVUFBVWlDLGNBQWNwQyxJQUFJLENBQUMsRUFBRTtRQUVyQyxPQUFPO1lBQ0x3QyxtQkFBbUJELE1BQU1DLGlCQUFpQixJQUFJO1lBQzlDQyx3QkFBd0JGLE1BQU1FLHNCQUFzQixJQUFJO1lBQ3hEQyxvQkFBb0JILE1BQU1HLGtCQUFrQixJQUFJO1lBQ2hEQyxvQkFBb0JKLE1BQU1JLGtCQUFrQixJQUFJO1lBQ2hEQyxpQkFBaUJ6QyxTQUFTQSxXQUFXO1FBQ3ZDO0lBQ0Y7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL25hYmFiYS1kcmVzcy8uL3NyYy9saWIvZGFvL3VzZXItZGFvLnRzPzYxYTAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZGJDbGllbnQgfSBmcm9tICcuLi9kYic7XG5pbXBvcnQgYmNyeXB0IGZyb20gJ2JjcnlwdCc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXNlciB7XG4gIGlkOiBudW1iZXI7XG4gIGVtYWlsOiBzdHJpbmc7XG4gIHBhc3N3b3JkX2hhc2g6IHN0cmluZztcbiAgdXNlcl9sZXZlbDogJ2ZyZWUnIHwgJ3BsdXMnIHwgJ3Bybyc7XG4gIGNyZWRpdHM6IG51bWJlcjtcbiAgd2VjaGF0X3VwZ3JhZGVkOiBib29sZWFuO1xuICBjcmVhdGVkX2F0OiBEYXRlO1xuICB1cGRhdGVkX2F0OiBEYXRlO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENyZWF0ZVVzZXJJbnB1dCB7XG4gIGVtYWlsOiBzdHJpbmc7XG4gIHBhc3N3b3JkOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXBkYXRlVXNlcklucHV0IHtcbiAgdXNlcl9sZXZlbD86ICdmcmVlJyB8ICdwbHVzJyB8ICdwcm8nO1xuICBjcmVkaXRzPzogbnVtYmVyO1xuICB3ZWNoYXRfdXBncmFkZWQ/OiBib29sZWFuO1xufVxuXG5leHBvcnQgY2xhc3MgVXNlckRBTyB7XG4gIFxuICAvLyDliJvlu7rmlrDnlKjmiLdcbiAgc3RhdGljIGFzeW5jIGNyZWF0ZVVzZXIoaW5wdXQ6IENyZWF0ZVVzZXJJbnB1dCk6IFByb21pc2U8VXNlcj4ge1xuICAgIGNvbnN0IHsgZW1haWwsIHBhc3N3b3JkIH0gPSBpbnB1dDtcbiAgICBcbiAgICAvLyDmo4Dmn6Xpgq7nrrHmmK/lkKblt7LlrZjlnKhcbiAgICBjb25zdCBleGlzdGluZ1VzZXIgPSBhd2FpdCB0aGlzLmZpbmRVc2VyQnlFbWFpbChlbWFpbCk7XG4gICAgaWYgKGV4aXN0aW5nVXNlcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCfpgq7nrrHlt7Looqvms6jlhownKTtcbiAgICB9XG4gICAgXG4gICAgLy8g5Yqg5a+G5a+G56CBXG4gICAgY29uc3QgcGFzc3dvcmRfaGFzaCA9IGF3YWl0IGJjcnlwdC5oYXNoKHBhc3N3b3JkLCAxMik7XG4gICAgXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZGJDbGllbnQuZXhlY3V0ZSh7XG4gICAgICBzcWw6IGBJTlNFUlQgSU5UTyB1c2VycyAoZW1haWwsIHBhc3N3b3JkX2hhc2gsIHVzZXJfbGV2ZWwsIGNyZWRpdHMpIFxuICAgICAgICAgICAgVkFMVUVTICg/LCA/LCA/LCA/KSBSRVRVUk5JTkcgKmAsXG4gICAgICBhcmdzOiBbZW1haWwsIHBhc3N3b3JkX2hhc2gsICdmcmVlJywgNl1cbiAgICB9KTtcbiAgICBcbiAgICBjb25zdCB1c2VyID0gcmVzdWx0LnJvd3NbMF0gYXMgYW55O1xuICAgIHJldHVybiB7XG4gICAgICBpZDogdXNlci5pZCxcbiAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxuICAgICAgcGFzc3dvcmRfaGFzaDogdXNlci5wYXNzd29yZF9oYXNoLFxuICAgICAgdXNlcl9sZXZlbDogdXNlci51c2VyX2xldmVsLFxuICAgICAgY3JlZGl0czogdXNlci5jcmVkaXRzLFxuICAgICAgd2VjaGF0X3VwZ3JhZGVkOiBCb29sZWFuKHVzZXIud2VjaGF0X3VwZ3JhZGVkKSxcbiAgICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKHVzZXIuY3JlYXRlZF9hdCksXG4gICAgICB1cGRhdGVkX2F0OiBuZXcgRGF0ZSh1c2VyLnVwZGF0ZWRfYXQpXG4gICAgfTtcbiAgfVxuICBcbiAgLy8g5qC55o2u6YKu566x5p+l5om+55So5oi3XG4gIHN0YXRpYyBhc3luYyBmaW5kVXNlckJ5RW1haWwoZW1haWw6IHN0cmluZyk6IFByb21pc2U8VXNlciB8IG51bGw+IHtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBkYkNsaWVudC5leGVjdXRlKHtcbiAgICAgIHNxbDogJ1NFTEVDVCAqIEZST00gdXNlcnMgV0hFUkUgZW1haWwgPSA/JyxcbiAgICAgIGFyZ3M6IFtlbWFpbF1cbiAgICB9KTtcbiAgICBcbiAgICBpZiAocmVzdWx0LnJvd3MubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgdXNlciA9IHJlc3VsdC5yb3dzWzBdIGFzIGFueTtcbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IHVzZXIuaWQsXG4gICAgICBlbWFpbDogdXNlci5lbWFpbCxcbiAgICAgIHBhc3N3b3JkX2hhc2g6IHVzZXIucGFzc3dvcmRfaGFzaCxcbiAgICAgIHVzZXJfbGV2ZWw6IHVzZXIudXNlcl9sZXZlbCxcbiAgICAgIGNyZWRpdHM6IHVzZXIuY3JlZGl0cyxcbiAgICAgIHdlY2hhdF91cGdyYWRlZDogQm9vbGVhbih1c2VyLndlY2hhdF91cGdyYWRlZCksXG4gICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSh1c2VyLmNyZWF0ZWRfYXQpLFxuICAgICAgdXBkYXRlZF9hdDogbmV3IERhdGUodXNlci51cGRhdGVkX2F0KVxuICAgIH07XG4gIH1cbiAgXG4gIC8vIOagueaNrklE5p+l5om+55So5oi3XG4gIHN0YXRpYyBhc3luYyBmaW5kVXNlckJ5SWQoaWQ6IG51bWJlcik6IFByb21pc2U8VXNlciB8IG51bGw+IHtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBkYkNsaWVudC5leGVjdXRlKHtcbiAgICAgIHNxbDogJ1NFTEVDVCAqIEZST00gdXNlcnMgV0hFUkUgaWQgPSA/JyxcbiAgICAgIGFyZ3M6IFtpZF1cbiAgICB9KTtcbiAgICBcbiAgICBpZiAocmVzdWx0LnJvd3MubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgdXNlciA9IHJlc3VsdC5yb3dzWzBdIGFzIGFueTtcbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IHVzZXIuaWQsXG4gICAgICBlbWFpbDogdXNlci5lbWFpbCxcbiAgICAgIHBhc3N3b3JkX2hhc2g6IHVzZXIucGFzc3dvcmRfaGFzaCxcbiAgICAgIHVzZXJfbGV2ZWw6IHVzZXIudXNlcl9sZXZlbCxcbiAgICAgIGNyZWRpdHM6IHVzZXIuY3JlZGl0cyxcbiAgICAgIHdlY2hhdF91cGdyYWRlZDogQm9vbGVhbih1c2VyLndlY2hhdF91cGdyYWRlZCksXG4gICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSh1c2VyLmNyZWF0ZWRfYXQpLFxuICAgICAgdXBkYXRlZF9hdDogbmV3IERhdGUodXNlci51cGRhdGVkX2F0KVxuICAgIH07XG4gIH1cbiAgXG4gIC8vIOmqjOivgeWvhueggVxuICBzdGF0aWMgYXN5bmMgdmVyaWZ5UGFzc3dvcmQocGxhaW5QYXNzd29yZDogc3RyaW5nLCBoYXNoZWRQYXNzd29yZDogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgcmV0dXJuIGF3YWl0IGJjcnlwdC5jb21wYXJlKHBsYWluUGFzc3dvcmQsIGhhc2hlZFBhc3N3b3JkKTtcbiAgfVxuICBcbiAgLy8g5pu05paw55So5oi35L+h5oGvXG4gIHN0YXRpYyBhc3luYyB1cGRhdGVVc2VyKHVzZXJJZDogbnVtYmVyLCBpbnB1dDogVXBkYXRlVXNlcklucHV0KTogUHJvbWlzZTxVc2VyPiB7XG4gICAgY29uc3QgdXBkYXRlRmllbGRzOiBzdHJpbmdbXSA9IFtdO1xuICAgIGNvbnN0IHVwZGF0ZVZhbHVlczogYW55W10gPSBbXTtcbiAgICBcbiAgICBpZiAoaW5wdXQudXNlcl9sZXZlbCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB1cGRhdGVGaWVsZHMucHVzaCgndXNlcl9sZXZlbCA9ID8nKTtcbiAgICAgIHVwZGF0ZVZhbHVlcy5wdXNoKGlucHV0LnVzZXJfbGV2ZWwpO1xuICAgIH1cbiAgICBcbiAgICBpZiAoaW5wdXQuY3JlZGl0cyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB1cGRhdGVGaWVsZHMucHVzaCgnY3JlZGl0cyA9ID8nKTtcbiAgICAgIHVwZGF0ZVZhbHVlcy5wdXNoKGlucHV0LmNyZWRpdHMpO1xuICAgIH1cbiAgICBcbiAgICBpZiAoaW5wdXQud2VjaGF0X3VwZ3JhZGVkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHVwZGF0ZUZpZWxkcy5wdXNoKCd3ZWNoYXRfdXBncmFkZWQgPSA/Jyk7XG4gICAgICB1cGRhdGVWYWx1ZXMucHVzaChpbnB1dC53ZWNoYXRfdXBncmFkZWQpO1xuICAgIH1cbiAgICBcbiAgICB1cGRhdGVGaWVsZHMucHVzaCgndXBkYXRlZF9hdCA9IENVUlJFTlRfVElNRVNUQU1QJyk7XG4gICAgdXBkYXRlVmFsdWVzLnB1c2godXNlcklkKTtcbiAgICBcbiAgICBjb25zdCBzcWwgPSBgVVBEQVRFIHVzZXJzIFNFVCAke3VwZGF0ZUZpZWxkcy5qb2luKCcsICcpfSBXSEVSRSBpZCA9ID8gUkVUVVJOSU5HICpgO1xuICAgIFxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGRiQ2xpZW50LmV4ZWN1dGUoe1xuICAgICAgc3FsLFxuICAgICAgYXJnczogdXBkYXRlVmFsdWVzXG4gICAgfSk7XG4gICAgXG4gICAgaWYgKHJlc3VsdC5yb3dzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCfnlKjmiLfkuI3lrZjlnKgnKTtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgdXNlciA9IHJlc3VsdC5yb3dzWzBdIGFzIGFueTtcbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IHVzZXIuaWQsXG4gICAgICBlbWFpbDogdXNlci5lbWFpbCxcbiAgICAgIHBhc3N3b3JkX2hhc2g6IHVzZXIucGFzc3dvcmRfaGFzaCxcbiAgICAgIHVzZXJfbGV2ZWw6IHVzZXIudXNlcl9sZXZlbCxcbiAgICAgIGNyZWRpdHM6IHVzZXIuY3JlZGl0cyxcbiAgICAgIHdlY2hhdF91cGdyYWRlZDogQm9vbGVhbih1c2VyLndlY2hhdF91cGdyYWRlZCksXG4gICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSh1c2VyLmNyZWF0ZWRfYXQpLFxuICAgICAgdXBkYXRlZF9hdDogbmV3IERhdGUodXNlci51cGRhdGVkX2F0KVxuICAgIH07XG4gIH1cbiAgXG4gIC8vIOaJo+mZpOeUqOaIt+enr+WIhlxuICBzdGF0aWMgYXN5bmMgZGVkdWN0Q3JlZGl0cyh1c2VySWQ6IG51bWJlciwgY3JlZGl0c1RvRGVkdWN0OiBudW1iZXIpOiBQcm9taXNlPFVzZXI+IHtcbiAgICAvLyDlhYjmn6Xor6LlvZPliY3np6/liIZcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgdGhpcy5maW5kVXNlckJ5SWQodXNlcklkKTtcbiAgICBpZiAoIXVzZXIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcign55So5oi35LiN5a2Y5ZyoJyk7XG4gICAgfVxuICAgIFxuICAgIGlmICh1c2VyLmNyZWRpdHMgPCBjcmVkaXRzVG9EZWR1Y3QpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcign56ev5YiG5LiN6LazJyk7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiBhd2FpdCB0aGlzLnVwZGF0ZVVzZXIodXNlcklkLCB7XG4gICAgICBjcmVkaXRzOiB1c2VyLmNyZWRpdHMgLSBjcmVkaXRzVG9EZWR1Y3RcbiAgICB9KTtcbiAgfVxuICBcbiAgLy8g5aKe5Yqg55So5oi356ev5YiGXG4gIHN0YXRpYyBhc3luYyBhZGRDcmVkaXRzKHVzZXJJZDogbnVtYmVyLCBjcmVkaXRzVG9BZGQ6IG51bWJlcik6IFByb21pc2U8VXNlcj4ge1xuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCB0aGlzLmZpbmRVc2VyQnlJZCh1c2VySWQpO1xuICAgIGlmICghdXNlcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCfnlKjmiLfkuI3lrZjlnKgnKTtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIGF3YWl0IHRoaXMudXBkYXRlVXNlcih1c2VySWQsIHtcbiAgICAgIGNyZWRpdHM6IHVzZXIuY3JlZGl0cyArIGNyZWRpdHNUb0FkZFxuICAgIH0pO1xuICB9XG4gIFxuICAvLyDmm7TmlrDnlKjmiLfnp6/liIbvvIjlj6/mraPlj6/otJ/vvIlcbiAgc3RhdGljIGFzeW5jIHVwZGF0ZVVzZXJDcmVkaXRzKHVzZXJJZDogbnVtYmVyLCBjcmVkaXRzRGVsdGE6IG51bWJlcik6IFByb21pc2U8VXNlcj4ge1xuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCB0aGlzLmZpbmRVc2VyQnlJZCh1c2VySWQpO1xuICAgIGlmICghdXNlcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCfnlKjmiLfkuI3lrZjlnKgnKTtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgbmV3Q3JlZGl0cyA9IHVzZXIuY3JlZGl0cyArIGNyZWRpdHNEZWx0YTtcbiAgICBpZiAobmV3Q3JlZGl0cyA8IDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcign56ev5YiG5LiN6LazJyk7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiBhd2FpdCB0aGlzLnVwZGF0ZVVzZXIodXNlcklkLCB7XG4gICAgICBjcmVkaXRzOiBuZXdDcmVkaXRzXG4gICAgfSk7XG4gIH1cbiAgXG4gIC8vIOajgOafpeeUqOaIt+etiee6p1xuICBzdGF0aWMgYXN5bmMgZ2V0VXNlckxldmVsKHVzZXJJZDogbnVtYmVyKTogUHJvbWlzZTwnZnJlZScgfCAncGx1cycgfCAncHJvJyB8IG51bGw+IHtcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgdGhpcy5maW5kVXNlckJ5SWQodXNlcklkKTtcbiAgICByZXR1cm4gdXNlciA/IHVzZXIudXNlcl9sZXZlbCA6IG51bGw7XG4gIH1cbiAgXG4gIC8vIOajgOafpeeUqOaIt+aYr+WQpuS4ulBsdXPmiJZQcm/nlKjmiLdcbiAgc3RhdGljIGFzeW5jIGlzUHJlbWl1bVVzZXIodXNlcklkOiBudW1iZXIpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgdGhpcy5maW5kVXNlckJ5SWQodXNlcklkKTtcbiAgICByZXR1cm4gdXNlciA/ICh1c2VyLnVzZXJfbGV2ZWwgPT09ICdwbHVzJyB8fCB1c2VyLnVzZXJfbGV2ZWwgPT09ICdwcm8nKSA6IGZhbHNlO1xuICB9XG4gIFxuICAvLyDmo4Dmn6XnlKjmiLfmmK/lkKbkuLpQcm/nlKjmiLdcbiAgc3RhdGljIGFzeW5jIGlzUHJvVXNlcih1c2VySWQ6IG51bWJlcik6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCB0aGlzLmZpbmRVc2VyQnlJZCh1c2VySWQpO1xuICAgIHJldHVybiB1c2VyID8gdXNlci51c2VyX2xldmVsID09PSAncHJvJyA6IGZhbHNlO1xuICB9XG4gIFxuICAvLyDlvq7kv6HljYfnuqfnlKjmiLfkuLpQbHVzXG4gIHN0YXRpYyBhc3luYyB1cGdyYWRlVG9QbHVzVXNlcih1c2VySWQ6IG51bWJlcik6IFByb21pc2U8VXNlcj4ge1xuICAgIHJldHVybiBhd2FpdCB0aGlzLnVwZGF0ZVVzZXIodXNlcklkLCB7XG4gICAgICB1c2VyX2xldmVsOiAncGx1cycsXG4gICAgICB3ZWNoYXRfdXBncmFkZWQ6IHRydWVcbiAgICB9KTtcbiAgfVxuICBcbiAgLy8g6LSt5Lmw56ev5YiG5YyF5Y2H57qn55So5oi35Li6UHJvXG4gIHN0YXRpYyBhc3luYyB1cGdyYWRlVG9Qcm9Vc2VyKHVzZXJJZDogbnVtYmVyKTogUHJvbWlzZTxVc2VyPiB7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMudXBkYXRlVXNlcih1c2VySWQsIHtcbiAgICAgIHVzZXJfbGV2ZWw6ICdwcm8nXG4gICAgfSk7XG4gIH1cbiAgXG4gIC8vIOiOt+WPlueUqOaIt+e7n+iuoeS/oeaBr1xuICBzdGF0aWMgYXN5bmMgZ2V0VXNlclN0YXRzKHVzZXJJZDogbnVtYmVyKSB7XG4gICAgY29uc3QgW2dlbmVyYXRpb25SZXN1bHQsIGNyZWRpdHNSZXN1bHRdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgLy8g5p+l6K+i55Sf5oiQ5Y6G5Y+y57uf6K6hXG4gICAgICBkYkNsaWVudC5leGVjdXRlKHtcbiAgICAgICAgc3FsOiBgU0VMRUNUIFxuICAgICAgICAgICAgICAgIENPVU5UKCopIGFzIHRvdGFsX2dlbmVyYXRpb25zLFxuICAgICAgICAgICAgICAgIENPVU5UKENBU0UgV0hFTiBzdGF0dXMgPSAnY29tcGxldGVkJyBUSEVOIDEgRU5EKSBhcyBzdWNjZXNzZnVsX2dlbmVyYXRpb25zLFxuICAgICAgICAgICAgICAgIENPVU5UKENBU0UgV0hFTiBzdGF0dXMgPSAnZmFpbGVkJyBUSEVOIDEgRU5EKSBhcyBmYWlsZWRfZ2VuZXJhdGlvbnMsXG4gICAgICAgICAgICAgICAgU1VNKGNyZWRpdHNfdXNlZCkgYXMgdG90YWxfY3JlZGl0c191c2VkXG4gICAgICAgICAgICAgIEZST00gZ2VuZXJhdGlvbl9oaXN0b3J5IFxuICAgICAgICAgICAgICBXSEVSRSB1c2VyX2lkID0gP2AsXG4gICAgICAgIGFyZ3M6IFt1c2VySWRdXG4gICAgICB9KSxcbiAgICAgIC8vIOafpeivouW9k+WJjeenr+WIhlxuICAgICAgZGJDbGllbnQuZXhlY3V0ZSh7XG4gICAgICAgIHNxbDogJ1NFTEVDVCBjcmVkaXRzIEZST00gdXNlcnMgV0hFUkUgaWQgPSA/JyxcbiAgICAgICAgYXJnczogW3VzZXJJZF1cbiAgICAgIH0pXG4gICAgXSk7XG4gICAgXG4gICAgY29uc3Qgc3RhdHMgPSBnZW5lcmF0aW9uUmVzdWx0LnJvd3NbMF0gYXMgYW55O1xuICAgIGNvbnN0IGNyZWRpdHMgPSBjcmVkaXRzUmVzdWx0LnJvd3NbMF0gYXMgYW55O1xuICAgIFxuICAgIHJldHVybiB7XG4gICAgICB0b3RhbF9nZW5lcmF0aW9uczogc3RhdHMudG90YWxfZ2VuZXJhdGlvbnMgfHwgMCxcbiAgICAgIHN1Y2Nlc3NmdWxfZ2VuZXJhdGlvbnM6IHN0YXRzLnN1Y2Nlc3NmdWxfZ2VuZXJhdGlvbnMgfHwgMCxcbiAgICAgIGZhaWxlZF9nZW5lcmF0aW9uczogc3RhdHMuZmFpbGVkX2dlbmVyYXRpb25zIHx8IDAsXG4gICAgICB0b3RhbF9jcmVkaXRzX3VzZWQ6IHN0YXRzLnRvdGFsX2NyZWRpdHNfdXNlZCB8fCAwLFxuICAgICAgY3VycmVudF9jcmVkaXRzOiBjcmVkaXRzPy5jcmVkaXRzIHx8IDBcbiAgICB9O1xuICB9XG59Il0sIm5hbWVzIjpbImRiQ2xpZW50IiwiYmNyeXB0IiwiVXNlckRBTyIsImNyZWF0ZVVzZXIiLCJpbnB1dCIsImVtYWlsIiwicGFzc3dvcmQiLCJleGlzdGluZ1VzZXIiLCJmaW5kVXNlckJ5RW1haWwiLCJFcnJvciIsInBhc3N3b3JkX2hhc2giLCJoYXNoIiwicmVzdWx0IiwiZXhlY3V0ZSIsInNxbCIsImFyZ3MiLCJ1c2VyIiwicm93cyIsImlkIiwidXNlcl9sZXZlbCIsImNyZWRpdHMiLCJ3ZWNoYXRfdXBncmFkZWQiLCJCb29sZWFuIiwiY3JlYXRlZF9hdCIsIkRhdGUiLCJ1cGRhdGVkX2F0IiwibGVuZ3RoIiwiZmluZFVzZXJCeUlkIiwidmVyaWZ5UGFzc3dvcmQiLCJwbGFpblBhc3N3b3JkIiwiaGFzaGVkUGFzc3dvcmQiLCJjb21wYXJlIiwidXBkYXRlVXNlciIsInVzZXJJZCIsInVwZGF0ZUZpZWxkcyIsInVwZGF0ZVZhbHVlcyIsInVuZGVmaW5lZCIsInB1c2giLCJqb2luIiwiZGVkdWN0Q3JlZGl0cyIsImNyZWRpdHNUb0RlZHVjdCIsImFkZENyZWRpdHMiLCJjcmVkaXRzVG9BZGQiLCJ1cGRhdGVVc2VyQ3JlZGl0cyIsImNyZWRpdHNEZWx0YSIsIm5ld0NyZWRpdHMiLCJnZXRVc2VyTGV2ZWwiLCJpc1ByZW1pdW1Vc2VyIiwiaXNQcm9Vc2VyIiwidXBncmFkZVRvUGx1c1VzZXIiLCJ1cGdyYWRlVG9Qcm9Vc2VyIiwiZ2V0VXNlclN0YXRzIiwiZ2VuZXJhdGlvblJlc3VsdCIsImNyZWRpdHNSZXN1bHQiLCJQcm9taXNlIiwiYWxsIiwic3RhdHMiLCJ0b3RhbF9nZW5lcmF0aW9ucyIsInN1Y2Nlc3NmdWxfZ2VuZXJhdGlvbnMiLCJmYWlsZWRfZ2VuZXJhdGlvbnMiLCJ0b3RhbF9jcmVkaXRzX3VzZWQiLCJjdXJyZW50X2NyZWRpdHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/dao/user-dao.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/db.ts":
/*!***********************!*\
  !*** ./src/lib/db.ts ***!
  \***********************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   dbClient: () => (/* binding */ dbClient)\n/* harmony export */ });\n/* harmony import */ var _libsql_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @libsql/client */ \"@libsql/client\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_libsql_client__WEBPACK_IMPORTED_MODULE_0__]);\n_libsql_client__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\nconst dbClient = (0,_libsql_client__WEBPACK_IMPORTED_MODULE_0__.createClient)({\n    url: process.env.TURSO_DATABASE_URL,\n    authToken: process.env.TURSO_AUTH_TOKEN\n});\n\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL2RiLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQThDO0FBRTlDLE1BQU1DLFdBQVdELDREQUFZQSxDQUFDO0lBQzVCRSxLQUFLQyxRQUFRQyxHQUFHLENBQUNDLGtCQUFrQjtJQUNuQ0MsV0FBV0gsUUFBUUMsR0FBRyxDQUFDRyxnQkFBZ0I7QUFDekM7QUFFb0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uYWJhYmEtZHJlc3MvLi9zcmMvbGliL2RiLnRzPzllNGYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlQ2xpZW50IH0gZnJvbSAnQGxpYnNxbC9jbGllbnQnO1xuXG5jb25zdCBkYkNsaWVudCA9IGNyZWF0ZUNsaWVudCh7XG4gIHVybDogcHJvY2Vzcy5lbnYuVFVSU09fREFUQUJBU0VfVVJMISxcbiAgYXV0aFRva2VuOiBwcm9jZXNzLmVudi5UVVJTT19BVVRIX1RPS0VOISxcbn0pO1xuXG5leHBvcnQgeyBkYkNsaWVudCB9OyJdLCJuYW1lcyI6WyJjcmVhdGVDbGllbnQiLCJkYkNsaWVudCIsInVybCIsInByb2Nlc3MiLCJlbnYiLCJUVVJTT19EQVRBQkFTRV9VUkwiLCJhdXRoVG9rZW4iLCJUVVJTT19BVVRIX1RPS0VOIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/db.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/next-auth","vendor-chunks/@babel","vendor-chunks/jose","vendor-chunks/openid-client","vendor-chunks/uuid","vendor-chunks/oauth","vendor-chunks/@panva","vendor-chunks/yallist","vendor-chunks/preact-render-to-string","vendor-chunks/preact","vendor-chunks/oidc-token-hash","vendor-chunks/object-hash","vendor-chunks/lru-cache","vendor-chunks/cookie"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&page=%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute.ts&appDir=%2FUsers%2Fbytedance%2FDesktop%2Fnababa-dress%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fbytedance%2FDesktop%2Fnababa-dress&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();