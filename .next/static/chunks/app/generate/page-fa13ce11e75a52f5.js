(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[811],{2559:function(e,s,r){Promise.resolve().then(r.bind(r,8326))},6463:function(e,s,r){"use strict";var t=r(1169);r.o(t,"useRouter")&&r.d(s,{useRouter:function(){return t.useRouter}})},8326:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return h}});var t=r(7437),a=r(998),l=r(2265),n=r(6463),i=r(7138),c=r(9733),d=r(8185),o=r(9055),u=r(4087),x=r(7209);function h(){var e,s;let{data:r,status:h,update:m}=(0,a.useSession)(),f=(0,n.useRouter)(),[p,g]=(0,l.useState)(null),[v,j]=(0,l.useState)(""),[b,N]=(0,l.useState)([]),[y,w]=(0,l.useState)(!1),[C,z]=(0,l.useState)(0),[P,R]=(0,l.useState)(""),[D,S]=(0,l.useState)([]),[k,Z]=(0,l.useState)(!1);(0,l.useEffect)(()=>{if("unauthenticated"===h){f.push("/auth/signin");return}},[h,f]);let O=(e=>{switch(e){case"pro":return{maxClothing:10,canBatch:!0,singleCost:2,batchCost:20,title:"Pro用户"};case"plus":return{maxClothing:3,canBatch:!1,singleCost:2,batchCost:2,title:"Plus用户"};default:return{maxClothing:1,canBatch:!1,singleCost:2,batchCost:2,title:"免费用户"}}})(null==r?void 0:null===(e=r.user)||void 0===e?void 0:e.userLevel),_=(null==r?void 0:null===(s=r.user)||void 0===s?void 0:s.credits)||0,L=e=>new Promise((s,r)=>{let t=new FileReader;t.readAsDataURL(e),t.onload=()=>s(t.result),t.onerror=e=>r(e)}),I=e=>{N(s=>s.filter(s=>s.id!==e))},E=()=>0===b.length?0:O.canBatch&&b.length>1?O.batchCost:O.singleCost,B=()=>!(!p||0===b.length||_<E()),F=async()=>{if(B()&&p&&0!==b.length){w(!0),z(0),R("正在上传图片..."),Z(!1),S([]);try{R("正在处理图片..."),z(20);let e=await L(p),s=await Promise.all(b.map(e=>L(e.file)));R("正在分析照片..."),z(40);let r={userImage:e,clothingImages:s,generationType:b.length>1&&O.canBatch?"batch":"single"};R("正在生成图片..."),z(60);let t=await fetch("/api/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}),a=await t.json();if(z(100),R("生成完成"),a.success&&a.data)S(a.data.images),Z(!0),await m(),setTimeout(()=>{w(!1),z(0),R("")},1500);else throw Error(a.message||"生成失败")}catch(e){console.error("生成失败:",e),R("生成失败，积分已退还"),await m(),setTimeout(()=>{w(!1),z(0),R(""),alert(e instanceof Error?e.message:"生成失败，请稍后重试")},2e3)}}};return"loading"===h?(0,t.jsx)("main",{className:"container mx-auto px-4 py-8",children:(0,t.jsxs)("div",{className:"animate-pulse space-y-6",children:[(0,t.jsx)("div",{className:"h-8 bg-gray-200 rounded w-48"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsx)("div",{className:"h-96 bg-gray-200 rounded"}),(0,t.jsx)("div",{className:"h-96 bg-gray-200 rounded"})]})]})}):(null==r?void 0:r.user)?(0,t.jsxs)("main",{className:"container mx-auto px-4 py-8",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"AI虚拟试穿"}),(0,t.jsx)("p",{className:"text-gray-600",children:"上传您的照片和服装，AI为您生成逼真的试穿效果"})]}),(0,t.jsx)(d.Zb,{className:"mb-8 bg-blue-50",children:(0,t.jsx)(d.aY,{className:"pt-6",children:(0,t.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)(o.C,{variant:"pro"===r.user.userLevel?"default":"plus"===r.user.userLevel?"info":"secondary",children:O.title}),(0,t.jsxs)("span",{className:"text-sm text-gray-600",children:["当前积分: ",(0,t.jsx)("span",{className:"font-semibold text-green-600",children:_})]}),(0,t.jsxs)("span",{className:"text-sm text-gray-600",children:["最多 ",O.maxClothing," 件服装"]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2 text-sm",children:["free"===r.user.userLevel&&(0,t.jsx)(i.default,{href:"/upgrade",children:(0,t.jsx)(c.z,{variant:"outline",size:"sm",children:"升级Plus"})}),("free"===r.user.userLevel||"plus"===r.user.userLevel)&&(0,t.jsx)(i.default,{href:"/purchase",children:(0,t.jsx)(c.z,{variant:"outline",size:"sm",children:"充值积分"})})]})]})})}),y&&(0,t.jsx)(d.Zb,{className:"mb-8 bg-green-50",children:(0,t.jsx)(d.aY,{className:"pt-6",children:(0,t.jsxs)("div",{className:"text-center space-y-4",children:[(0,t.jsx)("h3",{className:"font-medium text-green-800",children:P}),(0,t.jsx)(u.E,{value:C,className:"w-full h-3"}),(0,t.jsx)("p",{className:"text-sm text-green-600",children:"请耐心等待，生成时间约30-60秒"})]})})}),k&&D.length>0&&(0,t.jsxs)(d.Zb,{className:"mb-8 bg-blue-50",children:[(0,t.jsxs)(d.Ol,{children:[(0,t.jsx)(d.ll,{className:"text-blue-800",children:"\uD83C\uDF89 生成完成！"}),(0,t.jsxs)(d.SZ,{children:["成功生成 ",D.length," 张试穿图片"]})]}),(0,t.jsxs)(d.aY,{children:[(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-4",children:D.map((e,s)=>(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("img",{src:e,alt:"生成结果 ".concat(s+1),className:"w-full h-64 object-cover rounded-lg border"}),(0,t.jsxs)("div",{className:"absolute top-2 right-2 bg-white bg-opacity-90 px-2 py-1 rounded text-xs font-medium",children:[s+1,"/",D.length]})]},s))}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:D.map((e,s)=>(0,t.jsx)("a",{href:e,download:"ai-tryon-result-".concat(s+1,".jpg"),target:"_blank",rel:"noopener noreferrer",className:"flex-1 min-w-0",children:(0,t.jsxs)(c.z,{variant:"outline",size:"sm",className:"w-full",children:["下载图片 ",s+1]})},s))}),(0,t.jsx)(c.z,{onClick:()=>Z(!1),variant:"outline",className:"w-full",children:"生成更多图片"})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(d.Zb,{children:[(0,t.jsxs)(d.Ol,{children:[(0,t.jsxs)(d.ll,{className:"flex items-center space-x-2",children:[(0,t.jsx)("span",{children:"\uD83D\uDCF7"}),(0,t.jsx)("span",{children:"上传您的照片"})]}),(0,t.jsx)(d.SZ,{children:"建议上传正面清晰的全身照片，效果更佳"})]}),(0,t.jsx)(d.aY,{children:(0,t.jsx)("div",{className:"space-y-4",children:v?(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("img",{src:v,alt:"用户照片预览",className:"w-full h-64 object-cover rounded-lg"}),(0,t.jsx)(c.z,{variant:"destructive",size:"sm",className:"absolute top-2 right-2",onClick:()=>{g(null),j("")},children:"删除"})]}):(0,t.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-blue-400 transition-colors",children:[(0,t.jsx)("div",{className:"text-4xl mb-4",children:"\uD83D\uDCF7"}),(0,t.jsx)("p",{className:"text-gray-600 mb-4",children:"点击或拖拽上传您的照片"}),(0,t.jsx)(x.I,{type:"file",accept:"image/*",onChange:e=>{var s;let r=null===(s=e.target.files)||void 0===s?void 0:s[0];if(r){g(r);let e=new FileReader;e.onload=e=>{var s;j(null===(s=e.target)||void 0===s?void 0:s.result)},e.readAsDataURL(r)}},className:"hidden",id:"userPhoto",disabled:y}),(0,t.jsx)(c.z,{variant:"outline",asChild:!0,disabled:y,children:(0,t.jsx)("label",{htmlFor:"userPhoto",className:"cursor-pointer",children:"选择照片"})})]})})})]}),(0,t.jsxs)(d.Zb,{children:[(0,t.jsxs)(d.Ol,{children:[(0,t.jsxs)(d.ll,{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("span",{children:"\uD83D\uDC57"}),(0,t.jsx)("span",{children:"上传服装"})]}),(0,t.jsxs)(o.C,{variant:"outline",className:"text-xs",children:[b.length,"/",O.maxClothing]})]}),(0,t.jsxs)(d.SZ,{children:[O.title,"最多可上传 ",O.maxClothing," 件服装",O.canBatch&&b.length>1&&(0,t.jsx)("span",{className:"text-green-600 ml-2",children:"（将进行批量生成）"})]})]}),(0,t.jsx)(d.aY,{children:(0,t.jsxs)("div",{className:"space-y-4",children:[b.length>0&&(0,t.jsx)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:b.map(e=>(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("img",{src:e.preview,alt:"服装预览",className:"w-full h-32 object-cover rounded-lg"}),(0,t.jsx)(c.z,{variant:"destructive",size:"sm",className:"absolute top-1 right-1 h-6 w-6 p-0",onClick:()=>I(e.id),disabled:y,children:"\xd7"})]},e.id))}),b.length<O.maxClothing&&(0,t.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-blue-400 transition-colors",children:[(0,t.jsx)("div",{className:"text-3xl mb-2",children:"\uD83D\uDC57"}),(0,t.jsx)("p",{className:"text-gray-600 mb-3",children:"添加服装图片"}),(0,t.jsx)(x.I,{type:"file",accept:"image/*",multiple:!0,onChange:e=>{let s=e.target.files;s&&Array.from(s).forEach(e=>{if(b.length>=O.maxClothing){alert("".concat(O.title,"最多可上传 ").concat(O.maxClothing," 件服装"));return}let s=Math.random().toString(36).substr(2,9),r=new FileReader;r.onload=r=>{var t;let a={id:s,file:e,preview:null===(t=r.target)||void 0===t?void 0:t.result};N(e=>[...e,a])},r.readAsDataURL(e)})},className:"hidden",id:"clothingUpload",disabled:y}),(0,t.jsx)(c.z,{variant:"outline",asChild:!0,disabled:y,children:(0,t.jsx)("label",{htmlFor:"clothingUpload",className:"cursor-pointer",children:"选择服装"})})]}),b.length>=O.maxClothing&&(0,t.jsxs)("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[(0,t.jsxs)("p",{className:"text-yellow-800 text-sm",children:["已达到 ",O.title," 的服装上传上限"]}),"pro"!==r.user.userLevel&&(0,t.jsx)(i.default,{href:"/purchase",children:(0,t.jsx)(c.z,{variant:"outline",size:"sm",className:"mt-2",children:"升级到Pro解锁更多"})})]})]})})]})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(d.Zb,{children:[(0,t.jsxs)(d.Ol,{children:[(0,t.jsx)(d.ll,{children:"生成预览"}),(0,t.jsx)(d.SZ,{children:"确认信息无误后开始生成"})]}),(0,t.jsxs)(d.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{children:"用户照片:"}),(0,t.jsx)("span",{className:p?"text-green-600":"text-gray-400",children:p?"✓ 已上传":"未上传"})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{children:"服装数量:"}),(0,t.jsxs)("span",{className:b.length>0?"text-green-600":"text-gray-400",children:[b.length," 件"]})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{children:"生成模式:"}),(0,t.jsx)("span",{className:"font-medium",children:O.canBatch&&b.length>1?"批量生成":"单次生成"})]}),(0,t.jsxs)("div",{className:"flex justify-between font-semibold border-t pt-2",children:[(0,t.jsx)("span",{children:"消耗积分:"}),(0,t.jsx)("span",{className:"text-green-600",children:E()})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{children:"剩余积分:"}),(0,t.jsx)("span",{className:_>=E()?"text-green-600":"text-red-600",children:_-E()})]})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[!B()&&(0,t.jsxs)("div",{className:"text-sm text-gray-600 space-y-1",children:[!p&&(0,t.jsx)("p",{children:"• 请上传您的照片"}),0===b.length&&(0,t.jsx)("p",{children:"• 请至少上传一件服装"}),_<E()&&(0,t.jsxs)("p",{className:"text-red-600",children:["• 积分不足，需要 ",E()," 积分"]})]}),(0,t.jsx)(c.z,{className:"w-full h-12 text-lg",onClick:F,disabled:!B()||y,children:y?(0,t.jsx)("span",{children:P}):(0,t.jsxs)("span",{children:["开始生成 (",E()," 积分)"]})}),_<E()&&(0,t.jsx)(i.default,{href:"/purchase",children:(0,t.jsx)(c.z,{variant:"outline",className:"w-full",children:"充值积分"})})]})]})]}),(0,t.jsxs)(d.Zb,{className:"bg-blue-50",children:[(0,t.jsx)(d.Ol,{children:(0,t.jsxs)(d.ll,{className:"text-blue-800",children:[O.title,"特权"]})}),(0,t.jsxs)(d.aY,{className:"space-y-2 text-sm text-blue-700",children:[(0,t.jsxs)("p",{children:["• 单次生成消耗 ",O.singleCost," 积分"]}),O.canBatch?(0,t.jsxs)("p",{children:["• 批量生成消耗 ",O.batchCost," 积分（多件服装一次生成）"]}):(0,t.jsxs)("p",{children:["• 每件服装单独生成，消耗 ",O.singleCost," 积分"]}),(0,t.jsxs)("p",{children:["• 最多可上传 ",O.maxClothing," 件服装"]}),(0,t.jsx)("p",{children:"• 生成失败自动退还积分"}),"free"===r.user.userLevel&&(0,t.jsxs)("div",{className:"pt-2 border-t border-blue-200",children:[(0,t.jsx)("p",{className:"font-medium",children:"升级Plus解锁:"}),(0,t.jsx)("p",{children:"• 最多3件服装，每日签到"}),(0,t.jsx)(i.default,{href:"/upgrade",children:(0,t.jsx)(c.z,{variant:"outline",size:"sm",className:"mt-2",children:"免费升级Plus"})})]}),"pro"!==r.user.userLevel&&(0,t.jsxs)("div",{className:"pt-2 border-t border-blue-200",children:[(0,t.jsx)("p",{className:"font-medium",children:"升级Pro解锁:"}),(0,t.jsx)("p",{children:"• 最多10件服装，批量生成，专属客服"}),(0,t.jsx)(i.default,{href:"/purchase",children:(0,t.jsx)(c.z,{variant:"outline",size:"sm",className:"mt-2",children:"充值升级Pro"})})]})]})]})]})]}),(0,t.jsxs)(d.Zb,{className:"mt-8 bg-yellow-50",children:[(0,t.jsx)(d.Ol,{children:(0,t.jsx)(d.ll,{className:"text-yellow-800",children:"使用技巧"})}),(0,t.jsxs)(d.aY,{className:"text-sm text-yellow-700 space-y-2",children:[(0,t.jsx)("p",{children:"• 上传正面、清晰、光线充足的全身照效果最佳"}),(0,t.jsx)("p",{children:"• 服装图片建议使用平铺或模特展示图"}),(0,t.jsx)("p",{children:"• 避免复杂背景，纯色背景效果更好"}),(0,t.jsx)("p",{children:"• 每次生成大约需要30-60秒，请耐心等待"}),(0,t.jsx)("p",{children:"• 如果生成失败，积分会自动退还"})]})]})]}):null}},9055:function(e,s,r){"use strict";r.d(s,{C:function(){return i}});var t=r(7437);r(2265);var a=r(3027),l=r(9354);let n=(0,a.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-100 text-green-800 hover:bg-green-200",warning:"border-transparent bg-yellow-100 text-yellow-800 hover:bg-yellow-200",info:"border-transparent bg-blue-100 text-blue-800 hover:bg-blue-200"}},defaultVariants:{variant:"default"}});function i(e){let{className:s,variant:r,...a}=e;return(0,t.jsx)("div",{className:(0,l.cn)(n({variant:r}),s),...a})}},9733:function(e,s,r){"use strict";r.d(s,{z:function(){return d}});var t=r(7437),a=r(2265),l=r(2974),n=r(3027),i=r(9354);let c=(0,n.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,s)=>{let{className:r,variant:a,size:n,asChild:d=!1,...o}=e,u=d?l.g7:"button";return(0,t.jsx)(u,{className:(0,i.cn)(c({variant:a,size:n,className:r})),ref:s,...o})});d.displayName="Button"},8185:function(e,s,r){"use strict";r.d(s,{Ol:function(){return i},SZ:function(){return d},Zb:function(){return n},aY:function(){return o},ll:function(){return c}});var t=r(7437),a=r(2265),l=r(9354);let n=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("div",{ref:s,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...a})});n.displayName="Card";let i=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("div",{ref:s,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",r),...a})});i.displayName="CardHeader";let c=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("h3",{ref:s,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",r),...a})});c.displayName="CardTitle";let d=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("p",{ref:s,className:(0,l.cn)("text-sm text-muted-foreground",r),...a})});d.displayName="CardDescription";let o=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("div",{ref:s,className:(0,l.cn)("p-6 pt-0",r),...a})});o.displayName="CardContent",a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("div",{ref:s,className:(0,l.cn)("flex items-center p-6 pt-0",r),...a})}).displayName="CardFooter"},7209:function(e,s,r){"use strict";r.d(s,{I:function(){return n}});var t=r(7437),a=r(2265),l=r(9354);let n=a.forwardRef((e,s)=>{let{className:r,type:a,...n}=e;return(0,t.jsx)("input",{type:a,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:s,...n})});n.displayName="Input"},4087:function(e,s,r){"use strict";r.d(s,{E:function(){return N}});var t=r(7437),a=r(2265);r(4887);var l=r(2974),n=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,s)=>{let r=(0,l.Z8)(`Primitive.${s}`),n=a.forwardRef((e,a)=>{let{asChild:l,...n}=e,i=l?r:s;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(i,{...n,ref:a})});return n.displayName=`Primitive.${s}`,{...e,[s]:n}},{}),i="Progress",[c,d]=function(e,s=[]){let r=[],l=()=>{let s=r.map(e=>a.createContext(e));return function(r){let t=r?.[e]||s;return a.useMemo(()=>({[`__scope${e}`]:{...r,[e]:t}}),[r,t])}};return l.scopeName=e,[function(s,l){let n=a.createContext(l),i=r.length;r=[...r,l];let c=s=>{let{scope:r,children:l,...c}=s,d=r?.[e]?.[i]||n,o=a.useMemo(()=>c,Object.values(c));return(0,t.jsx)(d.Provider,{value:o,children:l})};return c.displayName=s+"Provider",[c,function(r,t){let c=t?.[e]?.[i]||n,d=a.useContext(c);if(d)return d;if(void 0!==l)return l;throw Error(`\`${r}\` must be used within \`${s}\``)}]},function(...e){let s=e[0];if(1===e.length)return s;let r=()=>{let r=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let t=r.reduce((s,{useScope:r,scopeName:t})=>{let a=r(e)[`__scope${t}`];return{...s,...a}},{});return a.useMemo(()=>({[`__scope${s.scopeName}`]:t}),[t])}};return r.scopeName=s.scopeName,r}(l,...s)]}(i),[o,u]=c(i),x=a.forwardRef((e,s)=>{var r,a,l,i;let{__scopeProgress:c,value:d=null,max:u,getValueLabel:x=f,...h}=e;(u||0===u)&&!v(u)&&console.error((r="".concat(u),a="Progress","Invalid prop `max` of value `".concat(r,"` supplied to `").concat(a,"`. Only numbers greater than 0 are valid max values. Defaulting to `").concat(100,"`.")));let m=v(u)?u:100;null===d||j(d,m)||console.error((l="".concat(d),i="Progress","Invalid prop `value` of value `".concat(l,"` supplied to `").concat(i,"`. The `value` prop must be:\n  - a positive number\n  - less than the value passed to `max` (or ").concat(100," if no `max` prop is set)\n  - `null` or `undefined` if the progress is indeterminate.\n\nDefaulting to `null`.")));let b=j(d,m)?d:null,N=g(b)?x(b,m):void 0;return(0,t.jsx)(o,{scope:c,value:b,max:m,children:(0,t.jsx)(n.div,{"aria-valuemax":m,"aria-valuemin":0,"aria-valuenow":g(b)?b:void 0,"aria-valuetext":N,role:"progressbar","data-state":p(b,m),"data-value":null!=b?b:void 0,"data-max":m,...h,ref:s})})});x.displayName=i;var h="ProgressIndicator",m=a.forwardRef((e,s)=>{var r;let{__scopeProgress:a,...l}=e,i=u(h,a);return(0,t.jsx)(n.div,{"data-state":p(i.value,i.max),"data-value":null!==(r=i.value)&&void 0!==r?r:void 0,"data-max":i.max,...l,ref:s})});function f(e,s){return"".concat(Math.round(e/s*100),"%")}function p(e,s){return null==e?"indeterminate":e===s?"complete":"loading"}function g(e){return"number"==typeof e}function v(e){return g(e)&&!isNaN(e)&&e>0}function j(e,s){return g(e)&&!isNaN(e)&&e<=s&&e>=0}m.displayName=h;var b=r(9354);let N=a.forwardRef((e,s)=>{let{className:r,value:a,...l}=e;return(0,t.jsx)(x,{ref:s,className:(0,b.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",r),...l,children:(0,t.jsx)(m,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(a||0),"%)")}})})});N.displayName=x.displayName},9354:function(e,s,r){"use strict";r.d(s,{cn:function(){return l}});var t=r(4839),a=r(6164);function l(){for(var e=arguments.length,s=Array(e),r=0;r<e;r++)s[r]=arguments[r];return(0,a.m6)((0,t.W)(s))}}},function(e){e.O(0,[557,998,138,971,23,744],function(){return e(e.s=2559)}),_N_E=e.O()}]);