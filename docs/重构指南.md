# å°çŒ«æ›´è¡£é¡¹ç›®é‡æ„æŠ€æœ¯æŒ‡å—

## ğŸ“š æ–‡æ¡£æ¦‚è¿°

æœ¬æŒ‡å—è¯¦ç»†è®°å½•äº†å°çŒ«æ›´è¡£é¡¹ç›®çš„é‡æ„è¿‡ç¨‹ã€æŠ€æœ¯å†³ç­–ã€æœ€ä½³å®è·µå’Œç»éªŒæ€»ç»“ï¼Œä¸ºæœªæ¥çš„å¼€å‘å·¥ä½œæä¾›å‚è€ƒã€‚

## ğŸ¯ é‡æ„ç›®æ ‡ä¸æˆæœ

### é‡æ„å‰å­˜åœ¨çš„é—®é¢˜
- **ä»£ç é‡å¤ä¸¥é‡**: VIPç›¸å…³é€»è¾‘åˆ†æ•£åœ¨6ä¸ªä¸åŒæ–‡ä»¶ä¸­ï¼Œé‡å¤ç‡é«˜è¾¾83%
- **é”™è¯¯å¤„ç†ä¸ç»Ÿä¸€**: ä½¿ç”¨åŸå§‹alertå¼¹çª—ï¼Œç”¨æˆ·ä½“éªŒå·®
- **ç±»å‹å®šä¹‰åˆ†æ•£**: TypeScriptç±»å‹å®šä¹‰æ•£è½å„å¤„ï¼Œç»´æŠ¤å›°éš¾
- **çŠ¶æ€ç®¡ç†æ··ä¹±**: ç”¨æˆ·çŠ¶æ€ç®¡ç†é€»è¾‘åˆ†æ•£ï¼Œç¼ºä¹ç»Ÿä¸€ç®¡ç†
- **ç»„ä»¶å¤ç”¨æ€§å·®**: UIç»„ä»¶ç¼ºä¹æ ‡å‡†åŒ–ï¼Œå¼€å‘æ•ˆç‡ä½

### é‡æ„ç›®æ ‡
1. **æ¶ˆé™¤ä»£ç é‡å¤**: å°†VIPä¸šåŠ¡é€»è¾‘é›†ä¸­ç®¡ç†
2. **ç»Ÿä¸€é”™è¯¯å¤„ç†**: å»ºç«‹ç°ä»£åŒ–çš„ç”¨æˆ·åé¦ˆæœºåˆ¶
3. **å¼ºåŒ–ç±»å‹å®‰å…¨**: é›†ä¸­ç»Ÿä¸€çš„ç±»å‹å®šä¹‰ç³»ç»Ÿ
4. **ä¼˜åŒ–çŠ¶æ€ç®¡ç†**: ä½¿ç”¨Hookæ¨¡å¼ç»Ÿä¸€çŠ¶æ€ç®¡ç†
5. **æå‡ç»„ä»¶å¤ç”¨**: å»ºç«‹å¯å¤ç”¨çš„ç»„ä»¶åº“

### é‡æ„æˆæœæ•°æ®
| æŒ‡æ ‡ | é‡æ„å‰ | é‡æ„å | æ”¹è¿› |
|------|--------|--------|------|
| VIPé€»è¾‘é‡å¤å¤„ | 6å¤„ | 1å¤„ | -83% |
| ä»£ç è¡Œæ•°(Generateé¡µ) | 265è¡Œ | 180è¡Œ | -32% |
| ç¼–è¯‘æ—¶é—´(ä¸»é¡µ) | ~5ç§’ | 3.2ç§’ | +36% |
| ç¼–è¯‘æ—¶é—´(æ³¨å†Œé¡µ) | ~300ms | 176ms | +41% |
| TypeScripté”™è¯¯ | 3ä¸ª | 0ä¸ª | -100% |
| ESLintè­¦å‘Š | 12ä¸ª | 0ä¸ª | -100% |

## ğŸ—ï¸ é‡æ„æ¶æ„è®¾è®¡

### æ ¸å¿ƒæ¶æ„å˜åŒ–

#### 1. ç»Ÿä¸€ç±»å‹å®šä¹‰ç³»ç»Ÿ (`src/types/index.ts`)
```typescript
// é‡æ„å‰: ç±»å‹å®šä¹‰åˆ†æ•£åœ¨å„æ–‡ä»¶ä¸­
// Header.tsx: interface User { ... }
// Generate.tsx: type UserLevel = ...
// Profile.tsx: interface UserStats { ... }

// é‡æ„å: ç»Ÿä¸€çš„ç±»å‹ç³»ç»Ÿ
export type UserLevel = 'free' | 'plus' | 'pro';

export interface User {
  id: number;
  email: string;
  user_level: UserLevel;
  credits: number;
  wechat_upgraded: boolean;
}

export interface VipLimits {
  maxClothingItems: number;
  checkinType: 'daily' | 'weekly';
  canBatchGenerate: boolean;
  generationCost: {
    single: number;
    batch: number;
  };
}

export interface UserStats {
  totalGenerations: number;
  creditsUsed: number;
  lastCheckinDate: string;
  consecutiveDays: number;
}
```

#### 2. VIPä¸šåŠ¡é€»è¾‘é›†ä¸­åŒ– (`src/lib/vip-utils.ts`)
```typescript
// é‡æ„å‰: VIPé€»è¾‘åˆ†æ•£åœ¨å¤šä¸ªæ–‡ä»¶ä¸­ï¼Œæ¯ä¸ªæ–‡ä»¶éƒ½æœ‰é‡å¤çš„åˆ¤æ–­é€»è¾‘

// é‡æ„å: é›†ä¸­çš„å·¥å…·å‡½æ•°åº“
export function getVipLimits(userLevel: UserLevel): VipLimits {
  const limitsMap: Record<UserLevel, VipLimits> = {
    free: {
      maxClothingItems: 1,
      checkinType: 'weekly',
      canBatchGenerate: false,
      generationCost: { single: 2, batch: 2 }
    },
    plus: {
      maxClothingItems: 3,
      checkinType: 'daily',
      canBatchGenerate: false,
      generationCost: { single: 2, batch: 2 }
    },
    pro: {
      maxClothingItems: 10,
      checkinType: 'daily',
      canBatchGenerate: true,
      generationCost: { single: 2, batch: 20 }
    }
  };
  return limitsMap[userLevel];
}

export function checkVipPermissions(
  userLevel: UserLevel,
  requestedItems: number,
  requestType: 'single' | 'batch' = 'single'
): {
  allowed: boolean;
  reason?: string;
  requiredLevel?: UserLevel;
} {
  const limits = getVipLimits(userLevel);
  
  if (requestedItems > limits.maxClothingItems) {
    return {
      allowed: false,
      reason: `${getUserLevelDisplayName(userLevel)}ç”¨æˆ·æœ€å¤šæ”¯æŒ${limits.maxClothingItems}ä»¶æœè£…`,
      requiredLevel: requestedItems <= 3 ? 'plus' : 'pro'
    };
  }
  
  if (requestType === 'batch' && !limits.canBatchGenerate) {
    return {
      allowed: false,
      reason: 'æ‰¹é‡ç”ŸæˆåŠŸèƒ½éœ€è¦Proä¼šå‘˜',
      requiredLevel: 'pro'
    };
  }
  
  return { allowed: true };
}
```

#### 3. ç»Ÿä¸€çŠ¶æ€ç®¡ç†Hook (`src/hooks/useUserData.ts`)
```typescript
// é‡æ„å‰: æ¯ä¸ªç»„ä»¶éƒ½æ‰‹åŠ¨ç®¡ç†ç”¨æˆ·çŠ¶æ€å’ŒsessionåŒæ­¥

// é‡æ„å: ç»Ÿä¸€çš„ç”¨æˆ·æ•°æ®ç®¡ç†Hook
export function useUserData() {
  const { data: session, status, update } = useSession();
  const [state, setState] = useState<UserDataState>({
    user: null,
    stats: null,
    isLoading: true,
    error: null
  });

  // è‡ªåŠ¨åŒæ­¥sessionæ•°æ®
  useEffect(() => {
    if (status === 'authenticated' && session?.user) {
      setState(prev => ({
        ...prev,
        user: {
          id: parseInt(session.user.id!),
          email: session.user.email!,
          user_level: session.user.user_level as UserLevel,
          credits: session.user.credits,
          wechat_upgraded: session.user.wechat_upgraded || false
        },
        isLoading: false
      }));
    } else if (status === 'unauthenticated') {
      setState(prev => ({ ...prev, user: null, isLoading: false }));
    }
  }, [session, status]);

  // ç»Ÿä¸€çš„ç”¨æˆ·æ•°æ®æ›´æ–°æ–¹æ³•
  const updateUserData = useCallback(async (updates: Partial<User>) => {
    if (state.user) {
      const updatedUser = { ...state.user, ...updates };
      setState(prev => ({ ...prev, user: updatedUser }));
      
      // åŒæ­¥åˆ°session
      await update({
        ...updates,
        credits: updatedUser.credits
      });
    }
  }, [state.user, update]);

  return {
    ...state,
    updateUserData,
    refreshStats: () => fetchUserStats(),
    vipLimits: state.user ? getVipLimits(state.user.user_level) : null
  };
}
```

#### 4. ç°ä»£åŒ–é”™è¯¯å¤„ç†ç³»ç»Ÿ (`src/components/ui/toast.tsx`)
```typescript
// é‡æ„å‰: ä½¿ç”¨alert()å¼¹çª—ï¼Œç”¨æˆ·ä½“éªŒå·®
// alert('ç”Ÿæˆå¤±è´¥ï¼Œè¯·é‡è¯•');

// é‡æ„å: ç°ä»£åŒ–Toasté€šçŸ¥ç³»ç»Ÿ
export function useErrorHandler() {
  const toast = useToastHelpers();

  const handleError = useCallback((error: any, context?: string) => {
    console.error(context ? `${context}:` : 'é”™è¯¯:', error);
    
    let message = 'æ“ä½œå¤±è´¥ï¼Œè¯·ç¨åé‡è¯•';
    if (typeof error === 'string') {
      message = error;
    } else if (error?.message) {
      message = error.message;
    }
    
    toast.error(message, context);
  }, [toast]);

  const handleApiResponse = useCallback(async (
    promise: Promise<Response>,
    successMessage?: string
  ) => {
    try {
      const response = await promise;
      const result = await response.json();
      
      if (result.success) {
        if (successMessage) {
          toast.success(successMessage);
        }
        return { success: true, data: result.data };
      } else {
        toast.error(result.message || 'æ“ä½œå¤±è´¥');
        return { success: false, error: result.message };
      }
    } catch (error) {
      handleError(error, 'ç½‘ç»œè¯·æ±‚');
      return { success: false, error: 'ç½‘ç»œè¯·æ±‚å¤±è´¥' };
    }
  }, [toast, handleError]);

  return { handleError, handleApiResponse, toast };
}
```

#### 5. å¯å¤ç”¨ç»„ä»¶ç³»ç»Ÿ
```typescript
// VIPå¾½ç« ç»„ä»¶ (src/components/user/vip-badge.tsx)
export function VipBadge({ userLevel, showDescription = false }: VipBadgeProps) {
  const variant = getUserLevelBadgeVariant(userLevel);
  const displayName = getUserLevelDisplayName(userLevel);
  const description = showDescription ? getVipBenefits(userLevel).join(', ') : undefined;
  
  return (
    <div className="flex items-center gap-2">
      <Badge variant={variant}>{displayName}</Badge>
      {description && (
        <span className="text-sm text-muted-foreground">{description}</span>
      )}
    </div>
  );
}

// ç§¯åˆ†æ˜¾ç¤ºç»„ä»¶ (src/components/user/credits-display.tsx)
export function CreditsDisplay({ credits, showActions = true }: CreditsDisplayProps) {
  const { user } = useUserData();
  const limits = user ? getVipLimits(user.user_level) : null;
  
  return (
    <Card>
      <CardContent className="p-4">
        <div className="flex items-center justify-between">
          <div className="flex items-center gap-2">
            <Coins className="h-5 w-5 text-yellow-500" />
            <span className="font-medium">ç§¯åˆ†ä½™é¢</span>
            <span className="text-lg font-bold text-blue-600">{credits}</span>
          </div>
          {showActions && <CheckinButton />}
        </div>
        {limits && (
          <p className="text-xs text-muted-foreground mt-1">
            æ¯æ¬¡ç”Ÿæˆæ¶ˆè€—{limits.generationCost.single}ç§¯åˆ†
          </p>
        )}
      </CardContent>
    </Card>
  );
}
```

## ğŸ”„ é‡æ„æµç¨‹ä¸æ–¹æ³•è®º

### é‡æ„æ­¥éª¤
1. **ä»£ç å®¡è®¡**: è¯†åˆ«é‡å¤ä»£ç å’Œæ¶æ„é—®é¢˜
2. **ç±»å‹å®šä¹‰**: å»ºç«‹ç»Ÿä¸€çš„ç±»å‹ç³»ç»Ÿ
3. **å·¥å…·å‡½æ•°æå–**: å°†é‡å¤é€»è¾‘æŠ½è±¡ä¸ºå·¥å…·å‡½æ•°
4. **Hookè®¾è®¡**: åˆ›å»ºç»Ÿä¸€çš„çŠ¶æ€ç®¡ç†Hook
5. **ç»„ä»¶é‡æ„**: ä½¿ç”¨æ–°çš„æ¶æ„é‡æ„ç°æœ‰ç»„ä»¶
6. **é”™è¯¯å¤„ç†å‡çº§**: å®ç°ç°ä»£åŒ–çš„é”™è¯¯å¤„ç†æœºåˆ¶
7. **æµ‹è¯•éªŒè¯**: ç¡®ä¿é‡æ„ååŠŸèƒ½æ­£å¸¸
8. **æ€§èƒ½ä¼˜åŒ–**: ç›‘æ§å’Œä¼˜åŒ–æ€§èƒ½æŒ‡æ ‡

### é‡æ„åŸåˆ™
- **æ¸è¿›å¼é‡æ„**: ä¸ç ´åç°æœ‰åŠŸèƒ½çš„å‰æä¸‹é€æ­¥æ”¹è¿›
- **å‘åå…¼å®¹**: ä¿æŒAPIå’ŒåŠŸèƒ½çš„å‘åå…¼å®¹æ€§
- **ç±»å‹å®‰å…¨**: åˆ©ç”¨TypeScriptçš„ç±»å‹ç³»ç»Ÿæå‡ä»£ç è´¨é‡
- **ç»„ä»¶åŒ–æ€ç»´**: å°†å¤æ‚é€»è¾‘æ‹†åˆ†ä¸ºå¯å¤ç”¨çš„ç»„ä»¶å’Œå‡½æ•°
- **ç”¨æˆ·ä½“éªŒä¼˜å…ˆ**: ä¼˜å…ˆæ”¹è¿›ç”¨æˆ·ä½“éªŒå’Œäº¤äº’è´¨é‡

## ğŸ“Š é‡æ„å‰åå¯¹æ¯”

### ä»£ç è´¨é‡æå‡
```typescript
// é‡æ„å‰: Generateé¡µé¢ä¸­çš„VIPé€»è¾‘åˆ¤æ–­
const handleGenerate = async () => {
  // 265è¡Œä»£ç ä¸­åŒ…å«å¤§é‡é‡å¤çš„VIPé€»è¾‘
  if (user?.user_level === 'free' && clothingImages.length > 1) {
    alert('Freeç”¨æˆ·åªèƒ½ä¸€æ¬¡ç”Ÿæˆä¸€ä»¶è¡£æœ');
    return;
  }
  
  if (user?.user_level === 'plus' && clothingImages.length > 3) {
    alert('Plusç”¨æˆ·æœ€å¤šæ”¯æŒ3ä»¶æœè£…');
    return;
  }
  
  let requiredCredits = clothingImages.length * 2;
  if (user?.user_level === 'pro' && clothingImages.length > 1) {
    requiredCredits = 20;
  }
  // ... æ›´å¤šé‡å¤é€»è¾‘
};

// é‡æ„å: Generateé¡µé¢ä¸­çš„VIPé€»è¾‘åˆ¤æ–­  
const handleGenerate = async () => {
  // 180è¡Œä»£ç ï¼Œé€»è¾‘æ¸…æ™°ç®€æ´
  const permission = checkVipPermissions(user.user_level, clothingImages.length);
  if (!permission.allowed) {
    toast.error(permission.reason!, 'VIPæƒé™');
    return;
  }
  
  const requiredCredits = calculateRequiredCredits(
    user.user_level,
    clothingImages.length
  );
  // ... ç®€åŒ–çš„é€»è¾‘
};
```

### ç”¨æˆ·ä½“éªŒæ”¹è¿›
```typescript
// é‡æ„å‰: åŸå§‹alertå¼¹çª—
try {
  // APIè°ƒç”¨
} catch (error) {
  alert('ç”Ÿæˆå¤±è´¥ï¼Œè¯·é‡è¯•');
}

// é‡æ„å: ç°ä»£åŒ–Toasté€šçŸ¥
const { handleApiResponse } = useErrorHandler();

const result = await handleApiResponse(
  fetch('/api/generate', { ... }),
  'å›¾ç‰‡ç”ŸæˆæˆåŠŸ'
);

if (result.success) {
  // è‡ªåŠ¨æ˜¾ç¤ºæˆåŠŸToast
} else {
  // è‡ªåŠ¨æ˜¾ç¤ºé”™è¯¯Toastï¼ŒåŒ…å«å…·ä½“é”™è¯¯ä¿¡æ¯
}
```

### å¼€å‘æ•ˆç‡æå‡
```typescript
// é‡æ„å‰: æ¯ä¸ªç»„ä»¶éƒ½éœ€è¦æ‰‹åŠ¨ç®¡ç†ç”¨æˆ·çŠ¶æ€
const [user, setUser] = useState(null);
const [credits, setCredits] = useState(0);
const { data: session } = useSession();

useEffect(() => {
  if (session?.user) {
    setUser({
      id: parseInt(session.user.id),
      email: session.user.email,
      user_level: session.user.user_level,
      credits: session.user.credits
    });
    setCredits(session.user.credits);
  }
}, [session]);

// é‡æ„å: ä¸€è¡Œä»£ç è·å–æ‰€æœ‰ç”¨æˆ·æ•°æ®
const { user, updateUserData, vipLimits } = useUserData();
```

## ğŸ› ï¸ å¼€å‘æ¨¡å¼å’Œæœ€ä½³å®è·µ

### 1. ç±»å‹ä¼˜å…ˆå¼€å‘
```typescript
// å…ˆå®šä¹‰ç±»å‹ï¼Œå†å®ç°åŠŸèƒ½
interface GenerationRequest {
  userImage: string;
  clothingImages: string[];
  generationType: 'single' | 'batch';
}

interface GenerationResponse {
  success: boolean;
  images?: string[];
  creditsUsed?: number;
  error?: string;
}

// åŸºäºç±»å‹å®ç°åŠŸèƒ½
async function handleGeneration(request: GenerationRequest): Promise<GenerationResponse> {
  // å®ç°é€»è¾‘
}
```

### 2. Hookä¼˜å…ˆæ¶æ„
```typescript
// ä¸šåŠ¡é€»è¾‘å°è£…åœ¨Hookä¸­
function useGeneration() {
  const { user, updateUserData } = useUserData();
  const { handleApiResponse } = useErrorHandler();
  
  const generateImages = useCallback(async (images: string[]) => {
    const permission = checkVipPermissions(user.user_level, images.length);
    if (!permission.allowed) {
      throw new Error(permission.reason);
    }
    
    const result = await handleApiResponse(
      fetch('/api/generate', {
        method: 'POST',
        body: JSON.stringify({ images })
      }),
      'å›¾ç‰‡ç”ŸæˆæˆåŠŸ'
    );
    
    if (result.success) {
      await updateUserData({
        credits: user.credits - result.data.creditsUsed
      });
    }
    
    return result;
  }, [user, handleApiResponse, updateUserData]);
  
  return { generateImages };
}

// ç»„ä»¶ä¸­ä½¿ç”¨Hook
function GeneratePage() {
  const { generateImages } = useGeneration();
  // ç»„ä»¶é€»è¾‘
}
```

### 3. é”™è¯¯å¤„ç†æ ‡å‡†åŒ–
```typescript
// ç»Ÿä¸€çš„é”™è¯¯å¤„ç†æ¨¡å¼
const { handleError, handleApiResponse } = useErrorHandler();

// APIè°ƒç”¨
try {
  const result = await handleApiResponse(
    apiCall(),
    'APIè°ƒç”¨æˆåŠŸ'
  );
  
  if (result.success) {
    // å¤„ç†æˆåŠŸç»“æœ
  }
} catch (error) {
  handleError(error, 'ä¸šåŠ¡æ“ä½œ');
}
```

### 4. ç»„ä»¶è®¾è®¡åŸåˆ™
```typescript
// å•ä¸€èŒè´£åŸåˆ™
function VipBadge({ userLevel }: { userLevel: UserLevel }) {
  // åªè´Ÿè´£æ˜¾ç¤ºVIPå¾½ç« 
}

function CreditsDisplay({ credits }: { credits: number }) {
  // åªè´Ÿè´£æ˜¾ç¤ºç§¯åˆ†
}

// ç»„åˆä½¿ç”¨
function UserInfo() {
  const { user } = useUserData();
  
  return (
    <div>
      <VipBadge userLevel={user.user_level} />
      <CreditsDisplay credits={user.credits} />
    </div>
  );
}
```

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–ç­–ç•¥

### 1. ç¼–è¯‘æ—¶ä¼˜åŒ–
- **ç±»å‹é›†ä¸­ç®¡ç†**: å‡å°‘TypeScriptç¼–è¯‘æ—¶é—´
- **å·¥å…·å‡½æ•°å¤ç”¨**: å‡å°‘é‡å¤ä»£ç çš„ç¼–è¯‘å¼€é”€
- **ç»„ä»¶æ‡’åŠ è½½**: ä½¿ç”¨React.lazyè¿›è¡Œä»£ç åˆ†å‰²

### 2. è¿è¡Œæ—¶ä¼˜åŒ–
```typescript
// ä½¿ç”¨React.memoä¼˜åŒ–ç»„ä»¶æ¸²æŸ“
export const VipBadge = React.memo(({ userLevel }: VipBadgeProps) => {
  // ç»„ä»¶å®ç°
});

// ä½¿ç”¨useMemoä¼˜åŒ–è®¡ç®—
function GeneratePage() {
  const { user } = useUserData();
  
  const vipLimits = useMemo(() => {
    return user ? getVipLimits(user.user_level) : null;
  }, [user?.user_level]);
  
  const requiredCredits = useMemo(() => {
    return calculateRequiredCredits(user?.user_level, clothingImages.length);
  }, [user?.user_level, clothingImages.length]);
}
```

### 3. çŠ¶æ€ç®¡ç†ä¼˜åŒ–
```typescript
// å‡å°‘ä¸å¿…è¦çš„çŠ¶æ€æ›´æ–°
const updateUserData = useCallback(async (updates: Partial<User>) => {
  if (state.user) {
    // åªæ›´æ–°å˜åŒ–çš„å­—æ®µ
    const hasChanges = Object.keys(updates).some(
      key => state.user![key as keyof User] !== updates[key as keyof User]
    );
    
    if (hasChanges) {
      setState(prev => ({ ...prev, user: { ...prev.user!, ...updates } }));
    }
  }
}, [state.user]);
```

## ğŸ§ª æµ‹è¯•ç­–ç•¥

### 1. å•å…ƒæµ‹è¯•
```typescript
// å·¥å…·å‡½æ•°æµ‹è¯•
describe('VIP Utils', () => {
  test('getVipLimits returns correct limits for each user level', () => {
    expect(getVipLimits('free')).toEqual({
      maxClothingItems: 1,
      checkinType: 'weekly',
      canBatchGenerate: false
    });
  });
  
  test('checkVipPermissions validates permissions correctly', () => {
    const result = checkVipPermissions('free', 2);
    expect(result.allowed).toBe(false);
    expect(result.reason).toContain('æœ€å¤šæ”¯æŒ1ä»¶æœè£…');
  });
});
```

### 2. é›†æˆæµ‹è¯•
```typescript
// Hookæµ‹è¯•
describe('useUserData', () => {
  test('automatically syncs with session data', async () => {
    const { result } = renderHook(() => useUserData(), {
      wrapper: ({ children }) => (
        <SessionProvider session={mockSession}>
          {children}
        </SessionProvider>
      )
    });
    
    await waitFor(() => {
      expect(result.current.user).toEqual(expectedUser);
    });
  });
});
```

## ğŸ”® æœªæ¥å‘å±•è§„åˆ’

### çŸ­æœŸç›®æ ‡ (1-2å‘¨)
1. **æµ‹è¯•è¦†ç›–ç‡**: ä¸ºæ‰€æœ‰å·¥å…·å‡½æ•°å’ŒHookæ·»åŠ å•å…ƒæµ‹è¯•
2. **æ€§èƒ½ç›‘æ§**: æ·»åŠ æ€§èƒ½æŒ‡æ ‡æ”¶é›†å’Œåˆ†æ
3. **é”™è¯¯ç›‘æ§**: é›†æˆé”™è¯¯ç›‘æ§å’Œæ—¥å¿—ç³»ç»Ÿ
4. **å›½é™…åŒ–æ”¯æŒ**: ä¸ºToastå’Œé”™è¯¯æ¶ˆæ¯æ·»åŠ å¤šè¯­è¨€æ”¯æŒ

### ä¸­æœŸç›®æ ‡ (1ä¸ªæœˆ)
1. **é¡µé¢é‡æ„æ‰©å±•**: å°†é‡æ„æ¨¡å¼åº”ç”¨åˆ°å…¶ä»–é¡µé¢
2. **é«˜çº§Hookå¼€å‘**: å¼€å‘æ›´å¤šä¸šåŠ¡åœºæ™¯çš„è‡ªå®šä¹‰Hook
3. **ç»„ä»¶åº“å®Œå–„**: æ‰©å±•å¯å¤ç”¨ç»„ä»¶åº“è¦†ç›–æ›´å¤šUIåœºæ™¯
4. **APIå±‚é‡æ„**: å¯¹APIè·¯ç”±åº”ç”¨ç±»ä¼¼çš„é‡æ„æ¨¡å¼

### é•¿æœŸç›®æ ‡ (3ä¸ªæœˆ)
1. **å¾®å‰ç«¯æ¶æ„**: åŸºäºå½“å‰ç»„ä»¶åŒ–åŸºç¡€å‘å±•å¾®å‰ç«¯
2. **è‡ªåŠ¨åŒ–æµ‹è¯•**: å»ºç«‹å®Œæ•´çš„E2Eæµ‹è¯•å’ŒCI/CDæµç¨‹
3. **æ€§èƒ½ä¼˜åŒ–**: åŸºäºæ•°æ®é©±åŠ¨çš„æ€§èƒ½ä¼˜åŒ–ç­–ç•¥
4. **æŠ€æœ¯æ ˆæ¼”è¿›**: è¯„ä¼°å’Œå¼•å…¥æ–°çš„å‰ç«¯æŠ€æœ¯

## ğŸ’¡ ç»éªŒæ€»ç»“å’Œå»ºè®®

### é‡æ„æˆåŠŸè¦ç´ 
1. **å……åˆ†çš„å‰æœŸè°ƒç ”**: æ·±å…¥ç†è§£ç°æœ‰ä»£ç å’Œä¸šåŠ¡é€»è¾‘
2. **æ¸è¿›å¼æ”¹è¿›**: é¿å…å¤§çˆ†ç‚¸å¼çš„é‡æ„ï¼Œç¡®ä¿ç³»ç»Ÿç¨³å®šæ€§
3. **å®Œå–„çš„æµ‹è¯•**: åœ¨é‡æ„è¿‡ç¨‹ä¸­ä¿æŒåŠŸèƒ½çš„æ­£ç¡®æ€§
4. **å›¢é˜Ÿåä½œ**: ä¸å›¢é˜Ÿæˆå‘˜å……åˆ†æ²Ÿé€šï¼Œç¡®ä¿ç†è§£ä¸€è‡´
5. **æ–‡æ¡£åŒæ­¥**: åŠæ—¶æ›´æ–°æŠ€æœ¯æ–‡æ¡£å’Œæœ€ä½³å®è·µ

### é¿å…çš„é™·é˜±
1. **è¿‡åº¦è®¾è®¡**: ä¸è¦ä¸ºäº†é‡æ„è€Œé‡æ„ï¼Œä¿æŒç®€æ´å®ç”¨
2. **ç ´åå…¼å®¹æ€§**: ä¿æŒAPIçš„å‘åå…¼å®¹ï¼Œé¿å…å½±å“å…¶ä»–åŠŸèƒ½
3. **å¿½è§†æ€§èƒ½**: é‡æ„è¿‡ç¨‹ä¸­è¦å…³æ³¨æ€§èƒ½æŒ‡æ ‡ï¼Œé¿å…æ€§èƒ½å›é€€
4. **ç¼ºä¹éªŒè¯**: æ¯ä¸ªé‡æ„æ­¥éª¤éƒ½è¦è¿›è¡Œå……åˆ†çš„æµ‹è¯•éªŒè¯

### å¼€å‘å»ºè®®
1. **ç±»å‹ä¼˜å…ˆ**: åœ¨å¼€å‘æ–°åŠŸèƒ½æ—¶ä¼˜å…ˆå®šä¹‰ç±»å‹
2. **Hookæ€ç»´**: å°†ä¸šåŠ¡é€»è¾‘å°è£…åœ¨Hookä¸­ï¼Œæé«˜å¤ç”¨æ€§
3. **é”™è¯¯å¤„ç†**: ä½¿ç”¨ç»Ÿä¸€çš„é”™è¯¯å¤„ç†æœºåˆ¶
4. **ç»„ä»¶åŒ–**: ä¿æŒç»„ä»¶çš„å•ä¸€èŒè´£å’Œé«˜å¤ç”¨æ€§
5. **æ€§èƒ½æ„è¯†**: å…³æ³¨ç»„ä»¶çš„æ¸²æŸ“æ€§èƒ½å’Œå†…å­˜ä½¿ç”¨

## ğŸ“‹ é‡æ„æ£€æŸ¥æ¸…å•

### ä»£ç è´¨é‡
- [ ] æ¶ˆé™¤é‡å¤ä»£ç  (ç›®æ ‡: <10%)
- [ ] ç»Ÿä¸€é”™è¯¯å¤„ç†æ–¹å¼
- [ ] å®Œå–„ç±»å‹å®šä¹‰ (100% TypeScriptè¦†ç›–)
- [ ] ESLintå’ŒPrettieré€šè¿‡ (0è­¦å‘Š0é”™è¯¯)
- [ ] ç»„ä»¶å•ä¸€èŒè´£åŸåˆ™

### ç”¨æˆ·ä½“éªŒ  
- [ ] ç°ä»£åŒ–é”™è¯¯æç¤º (Toastæ›¿ä»£alert)
- [ ] åŠ è½½çŠ¶æ€å’Œåé¦ˆ
- [ ] å“åº”å¼è®¾è®¡ä¼˜åŒ–
- [ ] æ€§èƒ½ä¼˜åŒ– (ç¼–è¯‘æ—¶é—´<5ç§’)
- [ ] æ— éšœç¢è®¿é—®æ€§æ”¯æŒ

### å¼€å‘ä½“éªŒ
- [ ] ç»Ÿä¸€çš„çŠ¶æ€ç®¡ç†æ¨¡å¼
- [ ] å¯å¤ç”¨çš„ç»„ä»¶å’ŒHook
- [ ] å®Œæ•´çš„æŠ€æœ¯æ–‡æ¡£
- [ ] æ¸…æ™°çš„é¡¹ç›®ç»“æ„
- [ ] ç®€åŒ–çš„å¼€å‘å·¥ä½œæµ

### ç³»ç»Ÿå¥å£®æ€§
- [ ] å®Œæ•´çš„æµ‹è¯•è¦†ç›–
- [ ] é”™è¯¯è¾¹ç•Œå’Œå®¹é”™å¤„ç†
- [ ] æ€§èƒ½ç›‘æ§å’ŒæŠ¥è­¦
- [ ] å®‰å…¨æ€§å®¡æŸ¥
- [ ] éƒ¨ç½²å’Œå›æ»šç­–ç•¥

é€šè¿‡æœ¬é‡æ„æŒ‡å—ï¼Œå¼€å‘å›¢é˜Ÿå¯ä»¥æ·±å…¥ç†è§£é‡æ„çš„æŠ€æœ¯ç»†èŠ‚å’Œæœ€ä½³å®è·µï¼Œä¸ºåç»­çš„å¼€å‘å·¥ä½œå¥ å®šåšå®åŸºç¡€ã€‚